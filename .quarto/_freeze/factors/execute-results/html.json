{
  "hash": "40fd8dba69f6660694ff580f0dfa5e86",
  "result": {
    "engine": "knitr",
    "markdown": "# Factors\n\n\n\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n\n\n\nFactors are often the best way to treat nominal and ordinal variables in R. Factors are a certain kind of vector that can only contain a number of pre-defined values. Each of these pre-defined values is considered a 'level' of the factor. So, we want side_of_town to be a factor variable with 4 levels: east, west, south, and north.\n\nWe can turn this variable into a factor variable with base R's as.factor() function.\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nour_df$side_of_town <- as.factor(our_df$side_of_town)\n```\n:::\n\n\n\n\n\n\n\n\nCheck the summary() output again and notice how the output is reported now\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(our_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     p_id             num_dogs         side_of_town  food_per_day \n Length:5           Length:5           east :1      Min.   :1.20  \n Class :character   Class :character   north:1      1st Qu.:2.80  \n Mode  :character   Mode  :character   south:2      Median :3.40  \n                                       west :1      Mean   :4.02  \n                                                    3rd Qu.:5.60  \n                                                    Max.   :7.10  \n has_a_labrador \n Mode :logical  \n FALSE:3        \n TRUE :2        \n                \n                \n                \n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\nNow, let's think about num_dogs. This should clearly be a factor variable as well. But, unlike food_per_day, the levels of this variable have a very clear order, from 1-2 to 5 or more.\n\nThe factor() function allows us to turn a vector into a factor, as well as manually specify the levels. Additionally, we can activate a process in the function letting it know that we want the order to matter.\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nour_df$num_dogs <- factor(\n  our_df$num_dogs, # the first input is the vector we are turning into a factor\n  levels=c(\"1-2\", \"3-4\", \"5 or more\"), # then we indicate the levels in the order that makes sense\n  ordered = TRUE # and lastly we turn on a process that tells R that this order is important\n  )\n```\n:::\n\n\n\n\n\n\n\n\nTake a look back at the summary. Now, instead of 5 separate character strings, we can see the breakdown of how many people own a certain number of dogs.\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(our_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     p_id                num_dogs side_of_town  food_per_day  has_a_labrador \n Length:5           1-2      :2   east :1      Min.   :1.20   Mode :logical  \n Class :character   3-4      :1   north:1      1st Qu.:2.80   FALSE:3        \n Mode  :character   5 or more:2   south:2      Median :3.40   TRUE :2        \n                                  west :1      Mean   :4.02                  \n                                               3rd Qu.:5.60                  \n                                               Max.   :7.10                  \n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\nNote that the str() command is also useful for quickly gleaning the various data types of variable columns within a data frame. It will show us our variable names, the data types, and then a preview of the first several values in each variable column.\n\nWe can also verify that num_dogs has been successfully re-coded as an ordered factor.\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(our_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t5 obs. of  5 variables:\n $ p_id          : chr  \"p1\" \"p2\" \"p3\" \"p4\" ...\n $ num_dogs      : Ord.factor w/ 3 levels \"1-2\"<\"3-4\"<\"5 or more\": 1 3 1 2 3\n $ side_of_town  : Factor w/ 4 levels \"east\",\"north\",..: 1 4 3 3 2\n $ food_per_day  : num  1.2 3.4 5.6 7.1 2.8\n $ has_a_labrador: logi  TRUE FALSE TRUE FALSE FALSE\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\nThere are cases where you will want to convert a column like 'p_id' to a factor variable as well, but often we just need a variable like 'p_id' to serve as a searchable index for individual observations, so we can leave it be for now.\n\nThis is all part of the process of data cleaning, where we make sure our data is structured in a fashion that's amenable to analysis. This re-coding of variables is an essential component, and we'll see plenty more tasks in this vein when we work with GSS data later on.\n\nFor our last bit, let's learn a little bit about working with functions that don't come included in base R.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}