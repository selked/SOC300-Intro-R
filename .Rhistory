"Republican" = c("strong republican","not very strong republican"),
"Independent" = c("independent, close to democrat", "independent (neither, no response)", "independent, close to republican"),
"Other Party" = c("other party")
))
our_gss |>
tabyl(partyid_recoded) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
our_table <- our_gss |>
tabyl(partyid_recoded) |>
adorn_totals(where = "row", na.rm = TRUE) |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
colnames(our_table)
colnames(our_table) <- c(
"Political Party",
"Frequency",
"Percent",
"Valid Percent"
)
our_table
barplot(summary(our_gss$educ))
barplot(summary(our_gss$age))
hist(our_gss$age)
hist(our_gss$realrinc)
mode(our_gss$race)
which.max(summary(our_gss$race))
summary(our_gss$race)
as.numeric(our_gss$race)
unique(as.numeric(our_gss$race))
summary(our_gss$sex)
levels(as.integer(our_gss$sex))
unique(as.integer(our_gss$sex))
names(our_gss$race)
levels(our_gss$race)
sex_sum <- summary(our_gss$sex)
which.max(sex_sum)
hist(rbeta(10000,2,5))
?rbeta
hist(rbeta(10000,2,5))
hist(rbeta(10000,1,5))
hist(rnorm(10000))
hist(rnorm(10000))
hist(
rnorm(10000),
main = "Normal distribtion; n = 10,000",
xlab = "Variable Response Values"
)
hist(
rbeta(10000, 5, 2),
main = "Left-skewed distribution, n = 10,000",
xlab = "Variable Response Values"
)
hist(
rbeta(10000, 8, 2),
main = "Left-skewed distribution, n = 10,000",
xlab = "Variable Response Values"
)
hist(
rbeta(10000, 10, 2),
main = "Left-skewed distribution, n = 10,000",
xlab = "Variable Response Values"
)
hist(
rbeta(10000, 2, 10),
main = "Right-skewed distribution, n = 10,000",
xlab = "Variable Response Values"
)
plot(density( c( rnorm(90), rnorm(5, 1) ) ) )
plot(density(  c(rnorm(100), 100, -100) ) ) )
plot(density(  c(rnorm(100, 100, -100) ) ) )
plot(density(  c(rnorm(100), 100, -100) ) ) )
plot(density(  c(rnorm(100), 100, -100) ) )
plot(density(  c(rnorm(100), 100, -50) ) )
plot(density(  c(rnorm(100), 1, -50) ) )
plot(density(  c(rnorm(100), 1, -10) ) )
hist(  c(rnorm(100), 1, -10) ) )
hist(  c(rnorm(100), 1, -10) )
hist(  c(rnorm(100), 1, -5) )
hist(  c(rnorm(100), 1, -10) )
hist(  c(rnorm(1000), 1, -10) )
hist(  c(rnorm(1000), 3, -10) )
hist(  c(rnorm(1000), 3, -5) )
hist(  c(rnorm(1000), 3, -8) )
hist(  c(rnorm(1000), 3, -10) )
hist(  c(rnorm(500), 3, -10) )
hist(  c(rnorm(500), 1, -10) )
hist(  c(rnorm(500), 10, -10) )
hist(  c(rnorm(100), 1, -10) )
hist(  c(rnorm(1000), 1, -10) )
hist(  c(rnorm(500), 1, -10) )
hist(  c(rnorm(200), 1, -10) )
hist(  c(rnorm(200), 1, -20) )
hist(  c(rnorm(500), 1, -20) )
hist(
c(
rnorm(500),
1,
-20
)
)
hist(
c(
rnorm(500),
1,
-20
)
)
hist(
c(
rnorm(500),
1,
-20
)
)
hist(
c(
rnorm(500),
1,
-10
)
)
hist(
c(
rnorm(300),
1,
-20
)
)
median(summary(our_gss$race))
summary(our_gss$race)
quantile(our_gss$partyid_recoded, .5, type=1)
quantile(our_gss$age_ord, .5, type=1)
?quintile
?quantile
quantile(as.integer(our_gss$age_ord), .5, type=1)
quantile(as.integer(our_gss$age_ord), .5, type=1)
quantile(summary(our_gss$age_ord), .5, type=1)
quantile(as.numeric(our_gss$age_ord), .5, type=1)
quantile(as.numeric(our_gss$age_ord), .5, type=1)
head(as.numeric(or_gss$age_ord))
head(as.numeric(our_gss$age_ord))
quantile(as.numeric(our_gss$age_ord, na.rm = TRUE), .5, type=1)
median(summary(our_gss$race), na.rm = TRUE)
median(summary(our_gss$age_ord), na.rm = TRUE)
summary(our_gss$age_ord)
View(our_gss)
our_gss <- our_gss |>
mutate(
age_ord = cut(
age,
breaks = c(18, 36, 51, Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Younger", "Middle Age", "Older"),
ordered_result = TRUE
)
)
median(summary(our_gss$age_ord), na.rm = TRUE)
summary(our_gss$age_ord)
quantile(our_gss$age_ord, .5, type=1)
quantile(our_gss$age_ord, .5, type=1, na.rm = TRUE)
quantile(our_gss$age_ord, .5, na.rm = TRUE)
quantile(our_gss$age_ord, .5, type = 1, na.rm = TRUE)
quantile(our_gss$age_ord, .5, type = 3, na.rm = TRUE)
quantile(our_gss$age_ord, .5, type = 1, na.rm = TRUE)
our_gss$age_ord |>
summary() |>
barplot(
main = "Age Distribution of 2022 GSS Respondents",
xlab = "Age grouping"
)
our_gss$age_ord |>
summary() |>
barplot(
main = "Age Distribution of 2022 GSS Respondents",
xlab = "Age grouping"
)
our_gss$age_ord |>
summary() |>
barplot(
main = "Age Distribution of GSS Respondents",
xlab = "Age grouping"
)
our_gss$age_ord |>
summary(na.rm = TRUE) |>
barplot(
main = "Age Distribution of GSS Respondents",
xlab = "Age grouping"
)
our_gss$age_ord |>
na.rm() |>
summary(na.rm) |>
barplot(
main = "Age Distribution of GSS Respondents",
xlab = "Age grouping"
)
our_gss$age_ord |>
drop_na() |>
summary() |>
barplot(
main = "Age Distribution of GSS Respondents",
xlab = "Age grouping"
)
our_gss$age_ord |>
summary() |>
barplot(
main = "Age Distribution of GSS Respondents",
xlab = "Age grouping"
)
quantile(
our_gss$age_ord,
.5,
type = 1
)
our_gss <- our_gss |>
mutate(
age_ord = cut(
age,
breaks = c(18, 36, 51, Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Younger", "Middle Age", "Older"),
ordered_result = TRUE
)
)
quantile(
our_gss$age_ord,
.5,
type = 1
)
quantile(
our_gss$age_ord,
.5,
type = 1
)
quantile(our_gss$age_ord, .5, type = 1, na.rm = TRUE)
quantile(
our_gss$age_ord,
.5,
type = 1,
na.rm = TRUE
)
hist(
c(
rnorm(300),
1,
-20
),
main = "Normal distribution with outliers; n = 300",
xlab = "Variable Response Values"
)
View(our_gss)
library(gssr)
library(gssrdoc)
data("gss_all")
gss_2022 <- subset(gss_all, year=="2022")
gss_2022 <- subset(gss_all, year==2022)
gss_2022 <- gss_get_years(2022)
gss_2022 <- gss_get_years(year = 2022)
gss_get_yr(2022)
gss_2022 <- gss_get_yr(2022)
View(our_gss)
gss_2022 <- subset(gss_all, year==2022)
View(our_gss)
#################################
#GSS Subsetting (not for class)
#################################
#Subset the data so that we can focus on a just a few variables of interest
cont_vars <- c("year", "id", "age")
cat_vars <- c("race", "sex", "realrinc", "educ", "partyid", "happy")
my_vars <- c(cont_vars, cat_vars)
gss_sub <- gss_2022 |>
select(all_of(my_vars))
View(gss_sub)
#Make sure all missing data is coded as NA
gss_sub <- gss_sub |>
mutate(across(everything(), haven::zap_missing))
#Recode categorical variables into factors
gss_sub <- gss_sub |>
mutate(across(all_of(cat_vars), forcats::as_factor))
View(gss_sub)
gss_sub$happy |>
summary() |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
gss_sub |>
drop_na(happy) |>
summary(happy) |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
gss_sub |>
drop_na(happy) |>
summary(gss_sub$happy) |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
gss_sub$happy |>
drop_na() |>
summary() |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
gss_sub[!is.na(gss_sub$happy), ] |>
summary() |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
gss_sub$happy |>
summary() |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
str(gss_sb)
str(gss_sub)
gss_sub$realrinc <- gss_sub$realrinc |>
as.character() |>
as.numeric()
str(gss_sub)
View(our_gss)
View(gss_sub)
rm(our_gss)
our_gss <- gss_sub
save(our_gss, file="C:/Users/selke/Desktop/Teaching/SOC 300 F 2025")
save(our_gss, file="C:/Users/selke/Desktop/Teaching/SOC 300 F 2025/our_gss.rda")
load("~/git_repos/SOC300-Intro-R/our_gss.rda")
View(our_gss)
write.csv(our_gss, file="our_gss.rda")
write.csv(our_gss, file="our_gss.csv")
View(our_gss)
rm(our_gss)
our_gss <- read.csv("our_gss.csv")
View(our_gss)
our_gss <- our_gss[,-1]
save(our_gss, file="our_gss.rda")
View(our_gss)
str(our_gss)
our_gss$happy <- as.factor(our_gss$happy)
str(our_gss)
levels(happy)
levels(our_gss$happy)
our_gss$happy <- as.ordered(our_gss$happy)
str(our_gss)
levels(our_gss$happy)
our_gss <- our_gss[,-7]
our_gss <- our_gss |>
cat_vars <- c("race", "sex", "partyid")
our_gss <- our_gss |>
mutate(across(all_of(cat_vars), forcats::as_factor))
library(tidyverse)
our_gss <- our_gss |>
mutate(across(all_of(cat_vars), forcats::as_factor))
str(our_gss)
save(our_gss, file="our_gss.rda")
gss_sub$happy |>
summary() |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
our_gss$happy |>
summary() |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
quantile(
our_gss$happy,
.5,
type = 1,
na.rm = TRUE
)
mode(our_gss$realrinc)
View(our_gss)
install.packages("DescTools")
library(DescTools)
Mode(our_gss$happy, na.rm = TRUE)
Median(our_gss$happy)
Median(our_gss$happy, na.rm = TRUE)
our_gss$happy |>
summary() |>
barplot(
main = "Happiness Distribution of 2022 GSS Respondents",
xlab = "Response value",
na.rm = TRUE
)
our_gss$happy |>
summary() |>
barplot(
main = "Happiness Distribution of 2022 GSS Respondents",
xlab = "Response value"
)
library(gtsummary)
load("~/git_repos/SOC300-Intro-R/our_gss.rda")
test <- our_gss |> tbl_summary(include = c(partyid))
View(our_gss)
View(test)
test
our_gss <- our_gss |>
mutate(
partyid_recoded=fct_collapse(partyid,
"Democrat" = c("strong democrat", "not very strong democrat"),
"Republican" = c("strong republican","not very strong republican"),
"Independent" = c("independent, close to democrat", "independent (neither, no response)", "independent, close to republican"),
"Other Party" = c("other party")
))
library(tidyverse)
library(janitor)
our_gss <- our_gss |>
mutate(
partyid_recoded=fct_collapse(partyid,
"Democrat" = c("strong democrat", "not very strong democrat"),
"Republican" = c("strong republican","not very strong republican"),
"Independent" = c("independent, close to democrat", "independent (neither, no response)", "independent, close to republican"),
"Other Party" = c("other party")
))
# Without pipe operator
tabyl(our_gss, partyid_recoded)
our_gss |>
tabyl(partyid_recoded) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
our_table <- our_gss |>
tabyl(partyid_recoded) |>
adorn_totals(where = "row", na.rm = TRUE) |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
colnames(our_table) <- c(
"Political Party",
"Frequency",
"Percent",
"Valid Percent"
)
our_table
knitr::kable(our_table)
knitr::kable(our_table, "html") |>
as_image()
library(kableExtra)
knitr::kable(our_table, "html") |>
as_image()
install.packages("webshot2")
knitr::kable(our_table, "html") |>
as_image()
library(flextable)
flextable(our_table)
our_gss |>
tabyl(age) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
our_gss |>
tabyl(realrinc) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
our_gss |>
tabyl(age) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
our_gss |>
tabyl(age) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2) |>
our_gss |>
tabyl(age) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2) |>
flextable()
our_gss |>
tabyl(age) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2) |>
flextable()
age_tab <- our_gss |>
tabyl(age) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2) |>
flextable()
colnames(age_tab)
View(age_tab)
age_tab <- our_gss |>
tabyl(age) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
colnames(age_tab)
colnames(age_tab) <- c("Age", "Frequency", "Percent", "Valid Percent")
flextable(age_tab)
age_tab
hist(our_gss$age,)
hist(our_gss$age,
main = "Age distribution of GSS respondents",
xlab = "Age of respondent",
)
hist(our_gss$realrinc,
main = "Income distribution of GSS respondents",
xlab = "Reported income")
