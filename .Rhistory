drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = c("row", "col")) |>
adorn_percentages() |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Death Penalty Approval",
col_name = "Political Party")
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = c("row")) |>
adorn_percentages() |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Death Penalty Approval",
col_name = "Political Party")
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = c("row", "col")) |>
adorn_percentages() |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Death Penalty Approval",
col_name = "Political Party")
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals() |>
adorn_percentages() |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Death Penalty Approval",
col_name = "Political Party")
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
chisq.test()
as.numeric(2.2e-16)
as.numeric("2.2e-16")
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
chisq.test() |>
format(scientific = F)
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
chisq.test()
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row") |>
adorn_percentages() |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Political Party",
col_name = "Sex")
our_gss |>
barplot(cappun~dem_rep)
library(lattice)
barchart(cappun~dem_rep, data = our_gss)
barchart(dem_rep~cappun, data = our_gss)
barchart(dem_rep~cappun, groups=dem_rep, data = our_gss)
barchart(dem_rep~cappun, groups=dem_rep, auto.key = TRUE, data = our_gss)
barchart(dem_rep~cappun, groups=dem_rep, rot=TRUE, auto.key = TRUE, data = our_gss)
barchart(dem_rep~cappun, groups=dem_rep, rot=TRUE,scales=list(x=list(rot=90,cex=0.8), auto.key = TRUE, data = our_gss)
barchart(dem_rep~cappun, groups=dem_rep, rot=TRUE,scales=list(x=list(rot=90,cex=0.8)), auto.key = TRUE, data = our_gss)
barchart(dem_rep, groups=cappun, rot=TRUE,scales=list(x=list(rot=90,cex=0.8)), auto.key = TRUE, data = our_gss)
barchart(dem_rep~cappun, groups=cappun, rot=TRUE,scales=list(x=list(rot=90,cex=0.8)), auto.key = TRUE, data = our_gss)
barchart(dem_rep~cappun, groups=cappun, auto.key = TRUE, data = our_gss)
barchart(dem_rep~cappun, groups=dem_rep, auto.key = TRUE, data = our_gss)
barchart(cappun~dem_rep, groups=dem_rep, auto.key = TRUE, data = our_gss)
barchart(cappun~dem_rep, groups=dem_rep, auto.key = TRUE, data = our_gss, scales=list(x=list(rot=90)))
test <- our_gss |>
select(cappun,dem_rep)
View(test)
View(test)
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
barplot()
count(test, cappun, dem_rep)
n_test <- test |>
drop_na(cappun, dem_rep) |>
barplot()
n_test <- test |>
drop_na(cappun, dem_rep) |>
as.matrix() |>
barplot()
n_test <- test |>
drop_na(cappun, dem_rep) |>
as.data.frame() |>
barplot()
n_test <- test |>
drop_na(cappun, dem_rep) |>
as.matrix() |>
barplot(col = c("lightblue", "mistyrose", "lightcyan",
"lavender", "cornsilk"), beside = TRUE)
tab_test <- test |>
table(cappun,dem_rep)
View(test)
tab_test <- table(test$cappun,test$dem_rep)
table(test$cappun,test$dem_rep)
n_test <- as.matrix.data.frame(tab_test)
barplot(n_test)
barplot(n_test, beside = TRUE)
barplot(n_test, beside = TRUE, legend = rownames(n_test))
barplot(n_test, legend = rownames(n_test), beside = TRUE)
barplot(n_test, legend.text = rownames(n_test), beside = TRUE)
n_test <- as.data.frame(n_test)
barplot(n_test, legend.text = rownames(n_test), beside = TRUE)
n_test <- as.matrix(n_test)
barplot(n_test, legend.text = rownames(n_test), beside = TRUE)
barplot(n_test, legend.text = rownames(n_test), legend = rownames(n_test), beside = TRUE)
View(n_test)
barplot(n_test, legend.text = rownames(n_test), legend.text = c("approve", "oppose"), beside = TRUE)
barplot(n_test, legend.text = rownames(n_test), beside = TRUE)
n_test <- as.matrix.data.frame(tab_test)
check <- VADeaths
View(check)
View(n_test)
tab_test
n_test <- as.matrix.default(tab_test)
n_test <- as.matrix.dataframe(tab_test)
n_test <- as.matrix.data.frame(tab_test)
View(n_test)
View(check)
rownames(n_test)
rownames(check)
n_test <- as.numeric(n_test)
n_test <- as.matrix(n_test)
View(n_test)
n_test <- as.matrix(tab_test)
my_tab <- test |>
tabyl(cappun, dem_rep)
View(my_tab)
my_tab <- test |>
drop_na(cappun, dem_rep) |>
tabyl(cappun, dem_rep)
View(my_tab)
View(check)
View(check)
my_tab <- as.matrix(my_tab)
View(my_tab)
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
chisq.test()
View(test)
mat_text <- as.matrix(test)
View(mat_text)
my_tab <- table(test$cappun,test$dem_rep)
my_tab <- table(test$cappun,test$dem_rep, row.names = c("approve", "oppose"))
my_tab <- test |>
xtab(cappun~$dem_rep)
my_tab <- test |>
xtab(cappun~dem_rep)
my_tab <- test |>
xtabs(cappun~dem_rep)
my_tab <- xtabs(cappun~dem_rep, test)
View(test)
View(our_gss)
barchart(cappun~dem_rep, our_gss)
barchart(summary(cappun)~summary(dem_rep), our_gss)
barchart(summary(cappun)~summary(dem_rep), groups = dem_rep, our_gss)
barchart(summary(cappun)~summary(dem_rep), groups = cappun, our_gss)
barchart(summary(cappun)~summary(dem_rep), groups = dem_rep, our_gss)
my_sum <- summary(test$cappun)
n_test <- do.call(rbind, test)
View(n_test)
n_test <- do.call(rbind, tab_test)
n_test <- as.data.frame(tab_test)
View(n_test)
View(n_test)
tab_test <- table(test$cappun,test$dem_rep)
tab_test
n_test <- table(test$cappun,test$dem_rep) |>
as.data.frame(col.names = c("Death Penalty Opinion", "Political Party", "Frequency"))
View(n_test)
View(n_test)
n_test <- table(test$cappun,test$dem_rep)
n_test <- table(test$cappun,test$dem_rep) |>
as.data.frame(col.names = c("Death Penalty Opinion", "Political Party", "Frequency"))
View(n_test)
n_test <- table(test$cappun,test$dem_rep) |>
as.data.frame(optional = FALSE,col.names = c("Death Penalty Opinion", "Political Party", "Frequency"))
View(n_test)
n_test <- table(test$cappun,test$dem_rep) |>
as.data.frame() |>
colnames(c("Death Penalty Opinion", "Political Party", "Frequency"))
n_test <- table(test$cappun,test$dem_rep) |>
as.data.frame() |>
colnames() <- c("Death Penalty Approval", "Political Party", "Frequency")
n_test <- table(test$cappun,test$dem_rep) |>
as.data.frame()
View(n_test)
colnames(n_test) <- c("Death Penalty Approval", "Political Party", "Frequency")
View(n_test)
colnames(n_test) <- c("Capital_Punishment", "Political_Party", "Frequency")
barchat(Capital_Punishment~Frequency, groups = Political_Party, data = n_test)
barchart(Capital_Punishment~Frequency, groups = Political_Party, data = n_test)
barchart(Capital_Punishment~Frequency, groups = Political_Party, data = n_test, auto.key = TRUE)
barchart(Capital_Punishment~Frequency, groups = Political_Party, data = n_test, rot = TRUE, auto.key = TRUE)
barchart(Capital_Punishment~Frequency, groups = Political_Party, data = n_test, rot = TRUE, auto.key = list(columns = 2))
barchart(Capital_Punishment~Frequency, groups = Political_Party, data = n_test, horiz = FALSE, auto.key = list(columns = 2))
barchart(Capital_Punishment~Frequency, groups = Political_Party, data = n_test, auto.key = list(columns = 2))
barchart(
Capital_Punishment~Frequency,
groups = Political_Party,
data = n_test,
auto.key = list(columns = 2),
horiz = TRUE)
barchart(
Capital_Punishment~Frequency,
groups = Political_Party,
data = n_test,
auto.key = list(columns = 2),
horiz = FALSE)
barchart(
Frequency~Capital_Punishment,
groups = Political_Party,
data = n_test,
auto.key = list(columns = 2),
horiz = FALSE)
barchart(
Frequency~Capital_Punishment,
groups = Political_Party,
data = n_test,
auto.key = TRUE,
horiz = FALSE)
barchart(
Frequency~Capital_Punishment,
groups = Political_Party,
data = n_test,
auto.key = TRUE,
horiz = FALSE,
xlab = "Respondent's opinion of capital punishment")
# Make a quick and dirty frequency table with base R & then turn that into a data frame
my_tab <- table(our_gss$cappun, our_gss$dem_rep) |>
as.data.frame()
# Overwrite the column names of this new data frame to make them more intelligible
colnames(my_tab) <- c("Capital_Punishment", "Political_Party", "Frequency")
# Plot our grouped barplot of capital punishment attitudes grouped by political party
barchart(
Frequency~Capital_Punishment,
groups = Political_Party,
data = my_tab,
auto.key = TRUE,
horiz = FALSE,
xlab = "Respondent's opinion of capital punishment")
# Plot our grouped barplot of capital punishment attitudes grouped by political party
barchart(
Frequency~Capital_Punishment,
groups = Political_Party,
data = my_tab,
auto.key = TRUE,
horiz = FALSE,
xlab = "Respondent's opinion of capital punishment",
main = "Capital Punishment Attitudes by Political Party")
# Plot our grouped barplot of capital punishment attitudes grouped by political party
barchart(
Frequency~Capital_Punishment,
groups = Political_Party,
data = my_tab,
auto.key = TRUE,
xlab = "Respondent's opinion of capital punishment",
main = "Capital Punishment Attitudes by Political Party")
# Make a quick and dirty frequency table with base R & then turn that into a data frame
my_tab <- table(our_gss$cappun, our_gss$dem_rep) |>
as.data.frame()
# Overwrite the column names of this new data frame to make them more intelligible
colnames(my_tab) <- c("Capital_Punishment", "Political_Party", "Frequency")
# Plot our grouped barplot of capital punishment attitudes grouped by political party
barchart(
Frequency ~ Capital_Punishment,
groups = Political_Party,
data = my_tab,
auto.key = TRUE,
xlab = "Respondent's opinion of capital punishment",
main = "Capital Punishment Attitudes by Political Party")
barchart(
Frequency ~ Capital_Punishment,
groups = Political_Party,
data = my_tab,
auto.key = TRUE,
xlab = "Respondent's opinion of capital punishment",
main = "Capital Punishment Attitudes by Political Party")
# Plot our grouped barplot of capital punishment attitudes grouped by political party
barchart(
Frequency ~ Capital_Punishment,
groups = Political_Party,
data = my_tab,
auto.key = TRUE,
xlab = "Respondent's opinion of capital punishment",
main = "Capital Punishment Attitudes by Political Party",
caption = "Data from 2022 GSS Survey")
barplot(my_tab)
barplot(my_tab$Frequency)
barplot(as.matrix(my_tab))
barplot(as.matrix(my_tab), beside = TRUE)
barplot(as.matrix(my_tab), besides = TRUE)
barplot(as.matrix(my_tab), beside = TRUE)
barplot(as.matrix(my_tab), beside = TRUE)
View(my_tab)
barplot(height = as.matrix(my_tab), beside = TRUE)
# Plot our grouped barplot of capital punishment attitudes grouped by political party
barchart(
Frequency ~ Capital_Punishment,
groups = Political_Party,
data = my_tab,
auto.key = TRUE,
xlab = "Respondent's opinion of capital punishment",
main = "Capital Punishment Attitudes by Political Party")
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row") |>
adorn_percentages() |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Political Party",
col_name = "Sex")
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = c("row", "col")) |>
adorn_percentages() |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Political Party",
col_name = "Sex") |>
knitr::kable()
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = c("row", "col")) |>
adorn_percentages() |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Political Party",
col_name = "Sex")
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = c("row", "col")) |>
adorn_percentages() |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Death Penalty Attitude",
col_name = "Political Party")
((426 + 633) * (426 + 569)) / 1749
(426 + 622) / 1749
(426 + 569) / 1749
.59 * .56
.33 * 1749
0.5991995
0.5991995 * 0.5688965
0.3408825 * 1749
1059/1749
426/995
0.6054889 * 0.4281407
0.2592344 * 1749
0.2592344 * 995
0.2592344 * 1059
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = c("row", "col")) |>
adorn_percentages() |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Death Penalty Attitude",
col_name = "Political Party")
# Probability of being a democrat
426/1749
# Probability of being a democrat
995/1749 <- dem_prob
# Probability of being a democrat
dem_prob <- 995/1749
# Probability of favoring the death penalty
death_prob <- 1059/1749
# Expected count of Favor/Democrat
dem_prob * death_prob
# Total of our sample
grand_total <- 1749
# Total of our sample
grand_total <- 1749
# Probability of being a democrat
dem_prob <- 995/1749
# Probability of favoring the death penalty
fav_prob <- 1059/1749
# Expected probability of Favor/Democrat
exp_dem_fav <- dem_prob * fav_prob
# Expected count of Favor/Democrat
exp_dem_fav * grand_total
# Total of our sample
grand_total <- 1749
# Number of democrats
num_dems <- 995
# Number of people who favor the death penalty
num_favs <- 1059
# Probability of being a democrat
dem_prob <- num_dems/grand_total
# Probability of favoring the death penalty
fav_prob <- num_favs/grand_total
# Expected probability of Favor/Democrat
exp_dem_fav <- dem_prob * fav_prob
# Expected count of Favor/Democrat
exp_dem_fav * grand_total
# Dem/Favor Chi-square value
(426+633)*(426+569)/1059
# Dem/Favor Chi-square value
((426+633)*(426+569))/1059
# Dem/Favor Chi-square value
((426+633)*(426+569))/1749
# Dem/Favor Chi-square value
(426+633)*(426+569)/1749
# Dem/Favor Chi-square value
(426+633)*(426+569)/1749
# Dem/Oppose Chi-square value
(426+633)*(633+121)/1749
# Rep/Favor Chi-square value
(426+633)*(633+121)/1749
# Rep/Oppose Chi-square value
(569+121)*(633+121)/1749
# Dem/Favor Chi-square value
(426+633)*(426+569)/1749
# Dem/Oppose Chi-square value
(569+121)*(633+121)/1749
# Rep/Favor Chi-square value
(426+633)*(633+121)/1749
# Rep/Oppose Chi-square value
(569+121)*(633+121)/1749
plot(dchisq(seq(0, 5, by=.01), df=1))
chi1<-dchisq(seq(0, 10, by=.01), df=1)
chi2<-dchisq(seq(0, 10, by=.01), df=2)
xvalues<-seq(0, 10, by=.01)
ggplot() + geom_point(aes(y=chi1, x=xvalues)) + geom_point(aes(y=chi2, x=xvalues), color="red") + ylim(0, 2)
total_rows <- 2
total_columns <- 2
deg_free <- (total_rows - 1) * (total_columns - 1)
(total_rows - 1) * (total_columns - 1)
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
chisq.test()
format(2.2e-16, scientific = FALSE)
our_chisq <- our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
chisq.test()
View(our_chisq)
View(our_chisq)
our_chisq$expected
our_chisq$observed
our_chisq$expected
