margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
)) |>
add_p() |>
modify_header(statistic ~ "Chi-square value")
gss_sub <- gss_sub |>
mutate(
partyid_recoded=fct_collapse(partyid,
"Democrat" = c("strong democrat", "not very strong democrat"),
"Republican" = c("strong republican","not very strong republican"),
"Independent" = c("independent, close to democrat", "independent (neither, no response)", "independent, close to republican"),
"Other Party" = c("other party")
)) |>
mutate(dem_rep = fct_recode(
partyid_recoded,
NULL="Other Party",
NULL="Independent"))
gss_sub |>
drop_na(cappun, dem_rep) |>
tbl_cross(
row = cappun,
col = dem_rep,
percent = "row",
margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
)) |>
add_p() |>
modify_header(statistic ~ "Chi-square value")
## Two-way crosstab with polhitok and attend_recode
gss_sub |>
drop_na(hlthinsr, realrinc_recoded) |>
tbl_cross(
row = hlthinsr,
col = realrinc_recoded,
percent = "column",
margin = c("column", "row"),
label = list(
hlthinsr = "Health insurance coverage",
realrinc_recoded = "Social class"
)) |>
add_p() |>
modify_header(statistic ~ "Chi-square value")
## Two-way crosstab with polhitok and attend_recode
gss_sub |>
drop_na(hlthinsr, realrinc_recoded) |>
tbl_cross(
row = hlthinsr,
col = realrinc_recoded,
percent = "row",
margin = c("column", "row"),
label = list(
hlthinsr = "Health insurance coverage",
realrinc_recoded = "Social class"
)) |>
add_p() |>
modify_header(statistic ~ "Chi-square value")
## Two-way crosstab with polhitok and attend_recode
gss_sub |>
drop_na(hlthinsr, realrinc_recoded) |>
tbl_cross(
row = hlthinsr,
col = realrinc_recoded,
percent = "column",
margin = c("column", "row"),
label = list(
hlthinsr = "Health insurance coverage",
realrinc_recoded = "Social class"
)) |>
add_p() |>
modify_header(statistic ~ "Chi-square value")
## Two-way crosstab with polhitok and attend_recode
gss_sub |>
drop_na(hlthinsr, realrinc_recoded) |>
tbl_cross(
row = hlthinsr,
col = realrinc_recoded,
percent = "column",
margin = c("column", "row"),
label = list(
hlthinsr = "Health insurance coverage",
realrinc_recoded = "Social class"
)) |>
modify_header(statistic ~ "Chi-square value") |>
add_p()
## Two-way crosstab with polhitok and attend_recode
gss_sub |>
drop_na(hlthinsr, realrinc_recoded) |>
tbl_cross(
row = hlthinsr,
col = realrinc_recoded,
percent = "column",
margin = c("column", "row"),
label = list(
hlthinsr = "Health insurance coverage",
realrinc_recoded = "Social class"
)) |>
add_p() |>
modify_header(statistic ~ "Chi-square value")
## Three-way crosstab
gss_sub |>
drop_na(realrinc_recoded, hlthinsr, black_white) |>
tbl_strata(
strata = black_white,
.tbl_fun =
~ .x |>
tbl_cross(
row = hlthinsr,
col = realrinc_recoded,
percent = "column",
margin = c("column", "row"),
label = list(
hlthinsr = "Health insurance coverage",
realrinc_recoded = "Social class"
) |>
add_p() |>
modify_header(statistic ~ "Chi-squre value"))
)
## Two-way crosstab with polhitok and attend_recode
gss_sub |>
drop_na(hlthinsr, realrinc_recoded) |>
tbl_cross(
row = hlthinsr,
col = realrinc_recoded,
percent = "column",
margin = c("column", "row"),
label = list(
hlthinsr = "Health insurance coverage",
realrinc_recoded = "Social class"
)) |>
add_p() #|>
## Two-way crosstab with polhitok and attend_recode
stupid_fucking_piece_of_shit_table <- gss_sub |>
drop_na(hlthinsr, realrinc_recoded) |>
tbl_cross(
row = hlthinsr,
col = realrinc_recoded,
percent = "column",
margin = c("column", "row"),
label = list(
hlthinsr = "Health insurance coverage",
realrinc_recoded = "Social class"
)) |>
add_p() #|>
View(stupid_fucking_piece_of_shit_table)
## Two-way crosstab with polhitok and attend_recode
stupid_fucking_piece_of_shit_table <- gss_sub |>
drop_na(hlthinsr, realrinc_recoded) |>
tbl_cross(
row = hlthinsr,
col = realrinc_recoded,
percent = "column",
margin = c("column", "row"),
label = list(
hlthinsr = "Health insurance coverage",
realrinc_recoded = "Social class"
)) |>
add_p(test = everything() ~ "chisq.test.no.correct") |>
modify_header(statistic ~ "Chi-square value")
## Two-way crosstab with polhitok and attend_recode
stupid_fucking_piece_of_shit_table <- gss_sub |>
drop_na(hlthinsr, realrinc_recoded) |>
tbl_cross(
row = hlthinsr,
col = realrinc_recoded,
percent = "column",
margin = c("column", "row"),
label = list(
hlthinsr = "Health insurance coverage",
realrinc_recoded = "Social class"
)) |>
add_p(test = everything() ~ "chisq.test.no.correct") #|>
## Two-way crosstab with polhitok and attend_recode
stupid_fucking_piece_of_shit_table <- gss_sub |>
drop_na(hlthinsr, realrinc_recoded) |>
tbl_cross(
row = hlthinsr,
col = realrinc_recoded,
percent = "column",
margin = c("column", "row"),
label = list(
hlthinsr = "Health insurance coverage",
realrinc_recoded = "Social class"
)) |>
add_p(test = all_categorical() ~ "chisq.test.no.correct") #|>
stupid_fucking_piece_of_shit_table
library(tidyverse)
library(tidyverse)
library(janitor)
load("our_gss.rda")
our_gss <- our_gss |>
mutate(
partyid_recoded=fct_collapse(partyid,
"Democrat" = c("strong democrat", "not very strong democrat"),
"Republican" = c("strong republican","not very strong republican"),
"Independent" = c("independent, close to democrat", "independent (neither, no response)", "independent, close to republican"),
"Other Party" = c("other party")
))
our_gss <- our_gss |>
mutate(dem_rep = fct_recode(
partyid_recoded,
NULL="Other Party",
NULL="Independent"))
our_gss |>
drop_na(dem_rep, cappun) |>
tabyl(
var1 = cappun,
var2 = dem_rep
)
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row")
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row") |>
adorn_percentages("col") |>
adorn_pct_formatting()
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row") |>
adorn_percentages("col") |>
adorn_pct_formatting() |>
adorn_ns(position = "front")
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row") |>
adorn_percentages("col") |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Death Penalty Attitude",
col_name = "Political Party")
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row") |>
adorn_percentages("col") |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Death Penalty Attitude",
col_name = "Political Party") |>
knitr::kable()
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = c("row", "col")) |>
adorn_percentages("col") |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Death Penalty Attitude",
col_name = "Political Party") |>
knitr::kable()
our_gss |>
drop_na(cappun, dem_rep) |>
tbl_cross(
row = cappun,
col = dem_rep,
percent = "row",
margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
))
library(gtsummary)
library(gt)
our_tab <- our_gss |>
tabyl(cappun) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
our_gss |>
tabyl(cappun) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
our_gss |>
drop_na(cappun, dem_rep) |>
tbl_cross(
row = cappun,
col = dem_rep,
percent = "row",
margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
))
our_gss |>
drop_na(cappun, dem_rep) |>
tbl_cross(
row = cappun,
col = dem_rep,
percent = "col",
margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
))
our_gss |>
drop_na(cappun, dem_rep) |>
tbl_cross(
row = cappun,
col = dem_rep,
percent = "column",
margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
))
our_gss |>
drop_na(cappun, dem_rep) |>
tbl_cross(
row = cappun,
col = dem_rep,
percent = "column",
margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
)) |>
add_p()
our_gss |>
drop_na(cappun, dem_rep) |>
tbl_cross(
row = cappun,
col = dem_rep,
percent = "column",
margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
)) |>
add_p() |>
modify_header(statistic ~ "Chi-square value")
our_gss |>
select(cappun, sex, dem_rep) |>
drop_na(cappun, sex, dem_rep) |>
tbl_strata(
strata = sex,
.tbl_fun =
~ .x |>
tbl_cross(
row = cappun,
col = dem_rep,
percent = "column",
margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
)) |>
add_p()
)
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row") |>
adorn_percentages("col") |>
adorn_pct_formatting() |>
adorn_ns() |>
adorn_title(
placement = "top",
row_name = "Death Penalty Attitude",
col_name = "Political Party")
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row") |>
adorn_percentages("col") |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Death Penalty Attitude",
col_name = "Political Party") |>
knitr::kable()
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row") |>
adorn_percentages("col") |>
adorn_pct_formatting() |>
adorn_ns() |>
adorn_title(
placement = "top",
row_name = "Death Penalty Attitude",
col_name = "Political Party") |>
knitr::kable()
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row") |>
adorn_percentages("col") |>
adorn_pct_formatting() |>
adorn_ns() |>
adorn_title(
placement = "top",
row_name = "Death Penalty Attitude",
col_name = "Political Party") |>
knitr::kable()
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row") |>
adorn_percentages("col") |>
adorn_pct_formatting() |>
adorn_ns() |>
adorn_title(
placement = "top",
row_name = "Death Penalty Attitude",
col_name = "Political Party") |>
knitr::kable()
our_gss |>
drop_na(cappun, dem_rep) |>
tbl_cross(
row = cappun,
col = dem_rep,
percent = "column",
margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
))
our_gss |>
drop_na(cappun, dem_rep) |>
tbl_cross(
row = cappun,
col = dem_rep,
percent = "column",
margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
)) |>
add_p()
our_gss |>
drop_na(cappun, dem_rep) |>
tbl_cross(
row = cappun,
col = dem_rep,
percent = "column",
margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
)) |>
add_p() |>
modify_header(statistic ~ "Chi-square value")
our_gss |>
select(cappun, sex, dem_rep) |>
drop_na(cappun, sex, dem_rep) |>
tbl_strata(
strata = sex,
.tbl_fun =
~ .x |>
tbl_cross(
row = cappun,
col = dem_rep,
percent = "column",
margin = c("column", "row"),
label = list(
cappun = "Death Penalty Attitude",
dem_rep = "Political Party"
)) |>
add_p()
)
our_gss |>
drop_na(cappun, dem_rep) |>
tabyl(
var1 = cappun,
var2 = dem_rep) |>
adorn_totals(where = "row") |>
adorn_percentages("col") |>
adorn_pct_formatting() |>
adorn_ns(position = "rear") |>
adorn_title(
placement = "top",
row_name = "Death Penalty Attitude",
col_name = "Political Party") |>
knitr::kable()
