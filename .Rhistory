data("vecs_fasttext300_wiki_news")
#Rename object for easier manipulation later
my_wv<-vecs_fasttext300_wiki_news
rm(vecs_fasttext300_wiki_news)
View(my_wv)
#Build DTM that excludes stop words (code from Stoltz & Taylor)
dtm_ja <- workingjobs.df |>
dtm_builder(string_lemma, doc_id) |>
dtm_stopper(stop_list = get_stoplist("snowball2014"),
stop_docprop = c(.01, Inf))
load(C:/Users/selke/Desktop/Scholarship/USAJobs Project/ja_reprocessed.rda)
load("C:/Users/selke/Desktop/Scholarship/USAJobs Project/ja_reprocessed.rda")
#Build DTM that excludes stop words (code from Stoltz & Taylor)
dtm_ja <- workingjobs.df |>
dtm_builder(string_lemma, doc_id) |>
dtm_stopper(stop_list = get_stoplist("snowball2014"),
stop_docprop = c(.01, Inf))
#Stop words removed
ja_vectors <- my_wv[rownames(my_wv) %in% colnames(dtm_ja), ]
library(janitor)
library(tidyverse)
load("our_gss.rda")
our_gss <- our_gss |>
mutate(
partyid_recoded=fct_collapse(partyid,
"Democrat" = c("strong democrat", "not very strong democrat"),
"Republican" = c("strong republican","not very strong republican"),
"Independent" = c("independent, close to democrat", "independent (neither, no response)", "independent, close to republican"),
"Other Party" = c("other party")
))
tabyl(our_gss, partyid_recoded)
hist(our_gss$partyid_recoded)
hist(our_gss$realrinc)
1565+1046+792+106+35
all_respondents <- 3544
all_minus_na <- 3509
independents <- 1565
independents / all_respondents
independents / all_minus_na
adorn_pct_formatting() |>
adorn_roundind(digits = 2)
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
our_gss |>
tabyl(partyid_recoded, show_na = FALSE) |>
adorn_totals(where = "row", na.rm = TRUE) |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
our_gss |>
tabyl(partyid_recoded) |>
adorn_totals(where = "row", na.rm = TRUE) |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
our_table <- our_gss |>
tabyl(partyid_recoded) |>
adorn_totals(where = "row", na.rm = TRUE) |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
View(our_table)
colnames(our_table) <- c("Political Party", "Frequency", "Percent", "Valid Percent")
our_table
View(our_table)
kable(our_table)
knitr::kable(our_table)
barplot(our_gss$partyid_recoded)
barplot(our_table$Percent)
View(our_table)
barplot(our_table$Frequency)
is.factor(our_gss$partyid_recoded)
is.factor(our_table$Frequency)
barplot(our_gss$partyid_recoded)
View(our_gss)
barplot(as.character(our_gss$partyid_recoded))
barplot(our_gss$partyid_recoded)
barplot(sum(our_gss$partyid_recoded))
barplot(summary(our_gss$partyid_recoded))
View(our_gss)
View(our_gss)
# With pipe operator
our_gss |>
summary(partyid_recoded) |>
barplot()
# With pipe operator
our_gss$partyid_recoded |>
summary() |>
barplot()
my_summary <- summary(our_gss$partyid_recoded)
barplot(mysummary)
barplot(my_summary)
our_gss$partyid_recoded |>
summary() |>
barplot(horiz = TRUE)
our_gss$partyid_recoded |>
summary() |>
barplot(
horiz = TRUE,
las = 1)
our_gss$partyid_recoded |>
summary() |>
barplot(
horiz = TRUE,
las = 1)
our_gss$partyid_recoded |>
summary() |>
barplot()
our_gss$partyid_recoded |>
summary() |>
barplot()
our_gss$partyid_recoded |>
summary() |>
barplot()
our_gss$partyid_recoded |>
summary() |>
barplot(cex.axis = 0.75)
our_gss$partyid_recoded |>
summary() |>
barplot(cex.axis = 0.75)
our_gss$partyid_recoded |>
summary() |>
barplot(cex.axis = 0.5)
our_gss$partyid_recoded |>
summary() |>
barplot(cex.axis = 0.25)
our_gss$partyid_recoded |>
summary() |>
barplot()
our_gss$partyid_recoded |>
summary() |>
barplot(cex.names = .5)
our_gss$partyid_recoded |>
summary() |>
barplot(cex.names = .5)
our_gss$partyid_recoded |>
summary() |>
barplot(cex.names = .75)
our_gss$partyid_recoded |>
summary() |>
barplot(cex.names = .75)
our_gss$partyid_recoded |>
summary() |>
barplot(
cex.names = .75,
main = "Number of Respondents Belong to a Political Party",
xlab = "Political Party",
ylab = "Count"
)
our_gss$partyid_recoded |>
summary() |>
barplot(
cex.names = .75,
main = "Number of Respondents Belonging to a Political Party",
xlab = "Political Party",
ylab = "Count"
)
our_gss$partyid_recoded |>
summary() |>
barplot(
cex.names = .75,
main = "Number of Respondents Belonging to a Political Party",
xlab = "Political Party",
ylab = "Count"
)
our_gss$partyid_recoded |>
summary() |>
barplot(
cex.names = .75,
main = "Count of GSS Respondents by Political Party",
xlab = "Political Party",
ylab = "Count"
)
library(janitor)
library(janitor)
library(tidyverse)
load("our_gss.rda")
our_gss <- our_gss |>
mutate(
partyid_recoded=fct_collapse(partyid,
"Democrat" = c("strong democrat", "not very strong democrat"),
"Republican" = c("strong republican","not very strong republican"),
"Independent" = c("independent, close to democrat", "independent (neither, no response)", "independent, close to republican"),
"Other Party" = c("other party")
))
our_gss |>
tabyl(partyid_recoded) |>
adorn_totals(where = "row") |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
our_table <- our_gss |>
tabyl(partyid_recoded) |>
adorn_totals(where = "row", na.rm = TRUE) |>
adorn_pct_formatting() |>
adorn_rounding(digits = 2)
colnames(our_table)
colnames(our_table) <- c(
"Political Party",
"Frequency",
"Percent",
"Valid Percent"
)
our_table
barplot(summary(our_gss$educ))
barplot(summary(our_gss$age))
hist(our_gss$age)
hist(our_gss$realrinc)
mode(our_gss$race)
which.max(summary(our_gss$race))
summary(our_gss$race)
as.numeric(our_gss$race)
unique(as.numeric(our_gss$race))
summary(our_gss$sex)
levels(as.integer(our_gss$sex))
unique(as.integer(our_gss$sex))
names(our_gss$race)
levels(our_gss$race)
sex_sum <- summary(our_gss$sex)
which.max(sex_sum)
hist(rbeta(10000,2,5))
?rbeta
hist(rbeta(10000,2,5))
hist(rbeta(10000,1,5))
hist(rnorm(10000))
hist(rnorm(10000))
hist(
rnorm(10000),
main = "Normal distribtion; n = 10,000",
xlab = "Variable Response Values"
)
hist(
rbeta(10000, 5, 2),
main = "Left-skewed distribution, n = 10,000",
xlab = "Variable Response Values"
)
hist(
rbeta(10000, 8, 2),
main = "Left-skewed distribution, n = 10,000",
xlab = "Variable Response Values"
)
hist(
rbeta(10000, 10, 2),
main = "Left-skewed distribution, n = 10,000",
xlab = "Variable Response Values"
)
hist(
rbeta(10000, 2, 10),
main = "Right-skewed distribution, n = 10,000",
xlab = "Variable Response Values"
)
plot(density( c( rnorm(90), rnorm(5, 1) ) ) )
plot(density(  c(rnorm(100), 100, -100) ) ) )
plot(density(  c(rnorm(100, 100, -100) ) ) )
plot(density(  c(rnorm(100), 100, -100) ) ) )
plot(density(  c(rnorm(100), 100, -100) ) )
plot(density(  c(rnorm(100), 100, -50) ) )
plot(density(  c(rnorm(100), 1, -50) ) )
plot(density(  c(rnorm(100), 1, -10) ) )
hist(  c(rnorm(100), 1, -10) ) )
hist(  c(rnorm(100), 1, -10) )
hist(  c(rnorm(100), 1, -5) )
hist(  c(rnorm(100), 1, -10) )
hist(  c(rnorm(1000), 1, -10) )
hist(  c(rnorm(1000), 3, -10) )
hist(  c(rnorm(1000), 3, -5) )
hist(  c(rnorm(1000), 3, -8) )
hist(  c(rnorm(1000), 3, -10) )
hist(  c(rnorm(500), 3, -10) )
hist(  c(rnorm(500), 1, -10) )
hist(  c(rnorm(500), 10, -10) )
hist(  c(rnorm(100), 1, -10) )
hist(  c(rnorm(1000), 1, -10) )
hist(  c(rnorm(500), 1, -10) )
hist(  c(rnorm(200), 1, -10) )
hist(  c(rnorm(200), 1, -20) )
hist(  c(rnorm(500), 1, -20) )
hist(
c(
rnorm(500),
1,
-20
)
)
hist(
c(
rnorm(500),
1,
-20
)
)
hist(
c(
rnorm(500),
1,
-20
)
)
hist(
c(
rnorm(500),
1,
-10
)
)
hist(
c(
rnorm(300),
1,
-20
)
)
median(summary(our_gss$race))
summary(our_gss$race)
quantile(our_gss$partyid_recoded, .5, type=1)
quantile(our_gss$age_ord, .5, type=1)
?quintile
?quantile
quantile(as.integer(our_gss$age_ord), .5, type=1)
quantile(as.integer(our_gss$age_ord), .5, type=1)
quantile(summary(our_gss$age_ord), .5, type=1)
quantile(as.numeric(our_gss$age_ord), .5, type=1)
quantile(as.numeric(our_gss$age_ord), .5, type=1)
head(as.numeric(or_gss$age_ord))
head(as.numeric(our_gss$age_ord))
quantile(as.numeric(our_gss$age_ord, na.rm = TRUE), .5, type=1)
median(summary(our_gss$race), na.rm = TRUE)
median(summary(our_gss$age_ord), na.rm = TRUE)
summary(our_gss$age_ord)
View(our_gss)
our_gss <- our_gss |>
mutate(
age_ord = cut(
age,
breaks = c(18, 36, 51, Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Younger", "Middle Age", "Older"),
ordered_result = TRUE
)
)
median(summary(our_gss$age_ord), na.rm = TRUE)
summary(our_gss$age_ord)
quantile(our_gss$age_ord, .5, type=1)
quantile(our_gss$age_ord, .5, type=1, na.rm = TRUE)
quantile(our_gss$age_ord, .5, na.rm = TRUE)
quantile(our_gss$age_ord, .5, type = 1, na.rm = TRUE)
quantile(our_gss$age_ord, .5, type = 3, na.rm = TRUE)
quantile(our_gss$age_ord, .5, type = 1, na.rm = TRUE)
our_gss$age_ord |>
summary() |>
barplot(
main = "Age Distribution of 2022 GSS Respondents",
xlab = "Age grouping"
)
our_gss$age_ord |>
summary() |>
barplot(
main = "Age Distribution of 2022 GSS Respondents",
xlab = "Age grouping"
)
our_gss$age_ord |>
summary() |>
barplot(
main = "Age Distribution of GSS Respondents",
xlab = "Age grouping"
)
our_gss$age_ord |>
summary(na.rm = TRUE) |>
barplot(
main = "Age Distribution of GSS Respondents",
xlab = "Age grouping"
)
our_gss$age_ord |>
na.rm() |>
summary(na.rm) |>
barplot(
main = "Age Distribution of GSS Respondents",
xlab = "Age grouping"
)
our_gss$age_ord |>
drop_na() |>
summary() |>
barplot(
main = "Age Distribution of GSS Respondents",
xlab = "Age grouping"
)
our_gss$age_ord |>
summary() |>
barplot(
main = "Age Distribution of GSS Respondents",
xlab = "Age grouping"
)
quantile(
our_gss$age_ord,
.5,
type = 1
)
our_gss <- our_gss |>
mutate(
age_ord = cut(
age,
breaks = c(18, 36, 51, Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Younger", "Middle Age", "Older"),
ordered_result = TRUE
)
)
quantile(
our_gss$age_ord,
.5,
type = 1
)
quantile(
our_gss$age_ord,
.5,
type = 1
)
quantile(our_gss$age_ord, .5, type = 1, na.rm = TRUE)
quantile(
our_gss$age_ord,
.5,
type = 1,
na.rm = TRUE
)
hist(
c(
rnorm(300),
1,
-20
),
main = "Normal distribution with outliers; n = 300",
xlab = "Variable Response Values"
)
View(our_gss)
library(gssr)
library(gssrdoc)
data("gss_all")
gss_2022 <- subset(gss_all, year=="2022")
gss_2022 <- subset(gss_all, year==2022)
gss_2022 <- gss_get_years(2022)
gss_2022 <- gss_get_years(year = 2022)
gss_get_yr(2022)
gss_2022 <- gss_get_yr(2022)
View(our_gss)
gss_2022 <- subset(gss_all, year==2022)
View(our_gss)
#################################
#GSS Subsetting (not for class)
#################################
#Subset the data so that we can focus on a just a few variables of interest
cont_vars <- c("year", "id", "age")
cat_vars <- c("race", "sex", "realrinc", "educ", "partyid", "happy")
my_vars <- c(cont_vars, cat_vars)
gss_sub <- gss_2022 |>
select(all_of(my_vars))
View(gss_sub)
#Make sure all missing data is coded as NA
gss_sub <- gss_sub |>
mutate(across(everything(), haven::zap_missing))
#Recode categorical variables into factors
gss_sub <- gss_sub |>
mutate(across(all_of(cat_vars), forcats::as_factor))
View(gss_sub)
gss_sub$happy |>
summary() |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
gss_sub |>
drop_na(happy) |>
summary(happy) |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
gss_sub |>
drop_na(happy) |>
summary(gss_sub$happy) |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
gss_sub$happy |>
drop_na() |>
summary() |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
gss_sub[!is.na(gss_sub$happy), ] |>
summary() |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
gss_sub$happy |>
summary() |>
barplot(
main = "Happiness Distribution of GSS Respondents",
xlab = "Response value"
)
str(gss_sb)
str(gss_sub)
gss_sub$realrinc <- gss_sub$realrinc |>
as.character() |>
as.numeric()
str(gss_sub)
View(our_gss)
View(gss_sub)
rm(our_gss)
our_gss <- gss_sub
save(our_gss, file="C:/Users/selke/Desktop/Teaching/SOC 300 F 2025")
save(our_gss, file="C:/Users/selke/Desktop/Teaching/SOC 300 F 2025/our_gss.rda")
