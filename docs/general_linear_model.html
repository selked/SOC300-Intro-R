<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>9&nbsp; General Linear Model – Introduction to R for Quantitative Social Science Research</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./data_viz.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-762ebc59c025a011b1f8e03231515c0b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">

<script src="site_libs/tabwid-1.1.3/tabwid.js"></script>


  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./general_linear_model.html">Bonus Lessons</a></li><li class="breadcrumb-item"><a href="./general_linear_model.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">General Linear Model</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./cover.jpg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./"></a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Background</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Day 1: Getting Started</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting_started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">R Fundamentals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./packages_and_tidy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Packages and the Tidyverse</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Day 2: Survey Data and Univariate Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./recoding_variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Recoding Variables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./univariate_categorical.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Univariate: Categorical</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./univariate_numeric.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Univariate: Numeric</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Day 3: Bivariate Analysis with the GSS</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bivariate_categorical.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Bivariate: Categorical</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Day 4: Making Better Visualizations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./viz_introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Plotting and Counting</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Bonus Lessons</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./general_linear_model.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">General Linear Model</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#linear-relationships" id="toc-linear-relationships" class="nav-link active" data-scroll-target="#linear-relationships"><span class="header-section-number">9.1</span> Linear Relationships</a></li>
  <li><a href="#ordinary-least-squares" id="toc-ordinary-least-squares" class="nav-link" data-scroll-target="#ordinary-least-squares"><span class="header-section-number">9.2</span> Ordinary Least Squares</a>
  <ul class="collapse">
  <li><a href="#gender-and-job-ads" id="toc-gender-and-job-ads" class="nav-link" data-scroll-target="#gender-and-job-ads"><span class="header-section-number">9.2.1</span> Gender and Job Ads</a></li>
  <li><a href="#the-ols-equation" id="toc-the-ols-equation" class="nav-link" data-scroll-target="#the-ols-equation"><span class="header-section-number">9.2.2</span> The OLS Equation</a></li>
  <li><a href="#ols-in-r" id="toc-ols-in-r" class="nav-link" data-scroll-target="#ols-in-r"><span class="header-section-number">9.2.3</span> OLS in R</a></li>
  <li><a href="#in-sum" id="toc-in-sum" class="nav-link" data-scroll-target="#in-sum"><span class="header-section-number">9.2.4</span> In Sum</a></li>
  </ul></li>
  <li><a href="#categorical-predictors" id="toc-categorical-predictors" class="nav-link" data-scroll-target="#categorical-predictors"><span class="header-section-number">9.3</span> Categorical Predictors</a>
  <ul class="collapse">
  <li><a href="#categorical-slope-coefficients" id="toc-categorical-slope-coefficients" class="nav-link" data-scroll-target="#categorical-slope-coefficients"><span class="header-section-number">9.3.1</span> Categorical Slope Coefficients</a></li>
  </ul></li>
  <li><a href="#a-multivariable-example" id="toc-a-multivariable-example" class="nav-link" data-scroll-target="#a-multivariable-example"><span class="header-section-number">9.4</span> A Multivariable Example</a>
  <ul class="collapse">
  <li><a href="#elaboration-model" id="toc-elaboration-model" class="nav-link" data-scroll-target="#elaboration-model"><span class="header-section-number">9.4.1</span> Elaboration Model</a></li>
  <li><a href="#visualizing-elaboration" id="toc-visualizing-elaboration" class="nav-link" data-scroll-target="#visualizing-elaboration"><span class="header-section-number">9.4.2</span> Visualizing Elaboration</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./general_linear_model.html">Bonus Lessons</a></li><li class="breadcrumb-item"><a href="./general_linear_model.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">General Linear Model</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">General Linear Model</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>In <a href="https://selked.github.io/SOC300-Intro-R/bivariate_categorical.html">Chapter 6</a>, we explored some common techniques for displaying and interpreting the bivariate distribution when all our variables are categorical.</p>
<p>That’s a situation you will often find yourself as a data analyst, but the Chi-square test also represents a simple framework for learning and applying the general logic underlying the vast majority of statistical inferences—the comparison of our observed distribution to an estimated null distribution.</p>
<p>However, we also very often need to work with data that comprise a much wider variety of measurement levels. While any interval-ratio variable can be re-coded into an ordinal or nominal variable, we often want our statistical models to preserve the finer granularity of information captured by interval-ratio variables. Additionally, multivariate analyses quickly become quite cumbersome beyond 3 variables. It will not be long before you are utterly drowning in contingency tables.</p>
<p>For these situations—when we have a mixture of numeric &amp; categorical variables or multiple control variables—we often call on the <strong>General Linear Model</strong> (GLM).</p>
<p>This is not something that we will work with much in our own projects for this course, only because it’s a bit more involved than we have the time cover in the depth it deserves. We could easily spend the entire semester covering the GLM and its various permutations. While it offers us a great deal of statistical power, we have to account for a wider array of underlying assumptions than something like the Chi-square test.</p>
<p>As such, I will use this section to provide a largely conceptual overview of one of the more commonly encountered use-cases of the GLM:</p>
<ul>
<li>modeling continuous dependent variables with a mix of numeric and categorical predictors (ordinary least squares regression)</li>
</ul>
<p>I will you show you some of the code used to create our regression models, but, as we will not focus as much on these methods in lab, I will not go into as much detail on these commands, and I’ll obscure most of my code for the visualizations, so as not to bog you down in some unfamiliar R functions. However, you will get to learn about some of the graphing functions I use here in our next unit.</p>
<section id="linear-relationships" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="linear-relationships"><span class="header-section-number">9.1</span> Linear Relationships</h2>
<p>The GLM is the underlying statistical architecture behind the broader family of <strong>regression modeling</strong> techniques.</p>
<p>If you haven’t had much experience with statistics up to this point, that all may sound a little ethereal, but it really all follows from a simple algebraic principle you likely encountered in high-school math.</p>
<p>I’ll show you the general equation that underlies the GLM, but first I’ll set set up some context with a refresher on linearity.</p>
<p><span class="math display">\[Y = mX + b\]</span> This is the basic linear equation that we can use to describe any straight line. Mathematical notation is not always especially intuitive, so I’ll clarify the symbols here.</p>
<ul>
<li><span class="math inline">\(Y\)</span> = The value of our y-axis variable (our dependent variable)</li>
<li><span class="math inline">\(m\)</span> = The slope of the line, which we often learn as <span class="math inline">\({\frac{rise}{run}}\)</span></li>
<li><span class="math inline">\(X\)</span> = The value of the x-axis variable (our independent variable)</li>
<li><span class="math inline">\(b\)</span> = The y-intercept, i.e.&nbsp;the value of <span class="math inline">\(Y\)</span> when <span class="math inline">\(X = 0\)</span>. This tells us where the line begins in our coordinate plane</li>
</ul>
<p>Let’s take a very simple example to illustrate the point. I’m going to create a dataframe with an ‘x’ column and a ‘y’ column. Each of these variables will be made up of the same vector of values, which will be the sequence of 0:5.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">x</th>
<th style="text-align: right;">y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Now, we’ll treat these as coordinates and plot them.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="general_linear_model_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>So, here’s the simple line segment that results from the linear combination of our <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> variables.</p>
<p>The <strong>y-intercept</strong> here is 0. That’s the value of <span class="math inline">\(Y\)</span> when <span class="math inline">\(X = 0\)</span></p>
<p>And the <strong>slope coefficient</strong> is 1. To calculate the slope, we focus on the distance between two points. The ‘run’ is the distance we travel along the x-axis to get from the first point to the second, and the ‘rise’ is the distance we travel along the y-axis. Here, we travel +1 unit on the x-axis, and +1 unit on the y-axis. Thus, <span class="math inline">\({\frac{1}{1} = 1}\)</span>, and <span class="math inline">\(1\)</span> is then our slope coefficient.</p>
<p>Now we can plug these values into <span class="math inline">\(Y = mX + b\)</span>. This allows us to describe the <strong>conditional distribution</strong> of these two variables. In other words, we can assess the value of <span class="math inline">\(Y\)</span> <em>given</em> our slope and any specific value of <span class="math inline">\(X\)</span>.</p>
<p>For example, if we know that <span class="math inline">\(X = 4\)</span>, we can plug that into our equation</p>
<p><span class="math display">\[Y = (1)\cdot (4) + 0\]</span> And naturally we find that</p>
<p><span class="math display">\[Y = 4\]</span></p>
<p>This is trivial for our case, given that our example line has very few data points and an incredibly simple relationship (where <span class="math inline">\(X = Y\)</span>).</p>
<p>However, this general principle of describing a linear relationship between variables provides the basis of some very powerful tools in statistical inference.</p>
</section>
<section id="ordinary-least-squares" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="ordinary-least-squares"><span class="header-section-number">9.2</span> Ordinary Least Squares</h2>
<p>While we can use an example like the one above to learn and quickly verify the logic of the linear equation, we are very unlikely to ever work with data exhibiting relationships that straightforward. This is particularly so in our case, as the social world is messy and multiplex.</p>
<p>Let’s take a look at some real-world variables and learn about one of the more common regression techniques: ordinary least squares (OLS) regression.</p>
<section id="gender-and-job-ads" class="level3" data-number="9.2.1">
<h3 data-number="9.2.1" class="anchored" data-anchor-id="gender-and-job-ads"><span class="header-section-number">9.2.1</span> Gender and Job Ads</h3>
<div class="cell">
<div class="cell-output-display">
<div id="gtwknvtxng" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#gtwknvtxng table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#gtwknvtxng thead, #gtwknvtxng tbody, #gtwknvtxng tfoot, #gtwknvtxng tr, #gtwknvtxng td, #gtwknvtxng th {
  border-style: none;
}

#gtwknvtxng p {
  margin: 0;
  padding: 0;
}

#gtwknvtxng .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gtwknvtxng .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#gtwknvtxng .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gtwknvtxng .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gtwknvtxng .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gtwknvtxng .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gtwknvtxng .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gtwknvtxng .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gtwknvtxng .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gtwknvtxng .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gtwknvtxng .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gtwknvtxng .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gtwknvtxng .gt_spanner_row {
  border-bottom-style: hidden;
}

#gtwknvtxng .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#gtwknvtxng .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gtwknvtxng .gt_from_md > :first-child {
  margin-top: 0;
}

#gtwknvtxng .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gtwknvtxng .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gtwknvtxng .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#gtwknvtxng .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#gtwknvtxng .gt_row_group_first td {
  border-top-width: 2px;
}

#gtwknvtxng .gt_row_group_first th {
  border-top-width: 2px;
}

#gtwknvtxng .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gtwknvtxng .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#gtwknvtxng .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#gtwknvtxng .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gtwknvtxng .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gtwknvtxng .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gtwknvtxng .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#gtwknvtxng .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gtwknvtxng .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gtwknvtxng .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gtwknvtxng .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gtwknvtxng .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gtwknvtxng .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gtwknvtxng .gt_left {
  text-align: left;
}

#gtwknvtxng .gt_center {
  text-align: center;
}

#gtwknvtxng .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gtwknvtxng .gt_font_normal {
  font-weight: normal;
}

#gtwknvtxng .gt_font_bold {
  font-weight: bold;
}

#gtwknvtxng .gt_font_italic {
  font-style: italic;
}

#gtwknvtxng .gt_super {
  font-size: 65%;
}

#gtwknvtxng .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#gtwknvtxng .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#gtwknvtxng .gt_indent_1 {
  text-indent: 5px;
}

#gtwknvtxng .gt_indent_2 {
  text-indent: 10px;
}

#gtwknvtxng .gt_indent_3 {
  text-indent: 15px;
}

#gtwknvtxng .gt_indent_4 {
  text-indent: 20px;
}

#gtwknvtxng .gt_indent_5 {
  text-indent: 25px;
}

#gtwknvtxng .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#gtwknvtxng div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Variable</strong></th>
<th id="stat_0_1" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>N</strong></th>
<th id="stat_0_2" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Mean (SD)</strong></th>
<th id="stat_0_3" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Min</strong></th>
<th id="stat_0_4" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Max</strong></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="label">Warmth/Competence Scale</td>
<td class="gt_row gt_center" headers="stat_0_1">5,526</td>
<td class="gt_row gt_center" headers="stat_0_2">0.00 (1.00)</td>
<td class="gt_row gt_center" headers="stat_0_3">-3.46</td>
<td class="gt_row gt_center" headers="stat_0_4">3.56</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">Percentage of women</td>
<td class="gt_row gt_center" headers="stat_0_1">5,526</td>
<td class="gt_row gt_center" headers="stat_0_2">0.49 (0.23)</td>
<td class="gt_row gt_center" headers="stat_0_3">0.03</td>
<td class="gt_row gt_center" headers="stat_0_4">0.97</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>These two variables are taken from a dataframe containing information about 5,526 job advertisements scraped from <a href="https://usajobs.gov">USAJobs.gov</a>, the advertising site for federal US jobs. These represent all the job ads available during the summer of 2021.</p>
<p>The <code>Percentage of women</code> variable is fairly straightforward. For each job advertisement, this is the corresponding proportion of women employees, as assessed through nationally representative occupational data.</p>
<p>The <code>'Warmth/Competence' scale</code> is a measure derived from word embeddings. Without getting too in the weeds, know that this is a measure of how prominently the language of a job ad engages the concepts of ‘warmth’ vs.&nbsp;‘competence’. Positive values indicate more competence language, and negative values indicate more warmth language. Values at or near 0 reflect ads that do not engage either concept more prominently than the other.</p>
<p>In social psychology, the Stereotype Content Model posits that many of our stereotypical perceptions about people can be characterized along these two dimensions. <em>Competence</em> reflects agency, adeptness, leadership, and related qualities. <em>Warmth</em> can be thought of in terms of sociability, and is related to interpersonal people-skills, empathy, and deference.</p>
<p>As this literature has shown, higher status groups tend to be perceived as higher in competence but lower in warmth, whereas lower status groups are often perceived as less competent but more warm. In simpler terms, higher status groups are often thought of us as smart but impersonal, while lower status groups are perceived as less capable but more amiable and sympathetic.</p>
<p>Let’s consider the association between the gender composition of the US federal workforce and the amount of warmth/competence language in job advertisements. As the US is a patriarchal society, masculinity is associated with higher status than femininity. We’ll predict that the language used to describe occupations with a greater proportion of women will engage warmth language more than competence language.</p>
<p><span class="math inline">\(H_0=\)</span> There will be no relationship between the Warmth/Competence score of a particular job ad and the percentage of women making up that occupation</p>
<p><span class="math inline">\(H_1=\)</span> Occupations with a greater percentage of women employees will have lower Warmth/Competence scores.</p>
<p>Let’s take a look at these two variables plotted against one another. We’re conceiving of the proportion of women as our independent variable and the warmth/competence scale as the dependent variable. So, the former will be on the x-axis and the latter will be on the y-axis.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="general_linear_model_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Now, this is clearly a relationship that’s quite a bit more complex than our simplified example earlier. Each point here is a single job ad, so we have 5,526 points on our graph. Eyeball the plot, it looks like there’s a slight downward trend. Let’s go ahead and draw a line that best characterizes the conjoint distribution of these variables.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="general_linear_model_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="the-ols-equation" class="level3" data-number="9.2.2">
<h3 data-number="9.2.2" class="anchored" data-anchor-id="the-ols-equation"><span class="header-section-number">9.2.2</span> The OLS Equation</h3>
<p>What I’ve plotted here is the <strong>OLS regression line</strong> for these two variables. This line solves for the following equation, which is the basis of many models in the GLM framework.</p>
<p><span class="math display">\[{\hat{Y} = {\hat{\beta}{_0}} + {\hat\beta}{_1}X_1 + \epsilon}\]</span></p>
<p>Now, this may look a bit unfamiliar, but it actually contains much of the same information as the linear equation we reviewed above. We just have some new notation conventions to reckon with.</p>
<p>For starters, we now have the <span class="math inline">\(\hat{}\)</span> symbol appearing over several variables. This is called, funnily enough, the ‘hat’ symbol. This little ‘hat’ just tells us that the value in question is one we are estimating through regression rather than one that appears in our data.</p>
<p>But roughly the first <span class="math inline">\(\frac{3}{4}\)</span> of the equation is just the linear equation we saw above.</p>
<ul>
<li><span class="math inline">\(\hat{Y}\)</span> is an estimated value of <span class="math inline">\(Y\)</span></li>
<li><span class="math inline">\(\hat{\beta{_0}}\)</span> is an estimated y-intercept</li>
<li><span class="math inline">\(\hat{\beta{_1}}\)</span> is an estimated slope coefficient for <span class="math inline">\(X_1\)</span>, which is any given value of our independent variable</li>
</ul>
<p>So this part of the equation:</p>
<p><span class="math display">\[\hat{Y} = {\hat{\beta}{_0}} + {\hat\beta}{_1}X_1\]</span> Is basically just:</p>
<p><span class="math display">\[Y = mX + b\]</span> The <span class="math inline">\(\beta\)</span> symbol stands for ‘beta coefficient’, which you can just think of as a term-of-art for the values that we estimate through linear regression.</p>
<p>Now we can start to think about how these values are estimated, though I’m going to stay conceptual here. In ordinary least squares regression, the calculation takes our observed x and y values as input and then estimates the slope and intercept that produce a line reflecting the minimum possible distance between the line and all data points.</p>
<p>The math behind this can really get into the weeds, but I’ll give a sense of how this line is derived. The least squares method starts by considering a completely horizontal line at the y-intercept of the data. This is likely to be a terrible fit for any data, but regression starts by estimating the collective distance of all points from this line. I won’t get too into this value, but know that this distance metric is called <strong>the sum of squared residuals</strong> (SSR). The SSR is taken for this horizontal line at the y-intercept, and then the line is incrementally rotated, with the SSR being calculated many different times for many different rotations of the line. After this iterative cycle, we take the line with the lowest sum of squared residuals as the line best characterizing the linear relationship between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>. That’s also where we get the term “least squares” for this particular style of regression.</p>
<p>I’ll note there’s a really excellent <a href="https://www.youtube.com/watch?v=PaFPbb66DxQ">StatQuest from Josh Starmer</a> that gives a great primer on some of these concepts along with highly intuitive visuals.</p>
<p>Now, this raises the question of the last part of the simple linear regression equation: the <span class="math inline">\(\epsilon\)</span> symbol. This is the symbol for what’s commonly known as the <strong>error term</strong>.</p>
<p>To understand this term, we need to think big picture about the relationship we’re modeling. We are assuming that the gender composition of the federal workforce influences the representation of these jobs in public-facing advertisements. Now, even if we are right that this influence exists, it’s exceedingly unlikely that the proportion of men/women in a given job is the <em>only</em> thing that influences the way that job is represented in an advertisement. There are all manner of different possible influences—from the type of position it is, the salary, the racial composition of the workforce, the amount of training required for the position, and so on and so forth.</p>
<p>But the reality is that, even if we do include indicators for all of these different concepts, social and mental phenomena are incredibly complex. We may still wind up missing indicators that would influence our dependent variable. In addition, it may also be the case that the variables we do have are insufficient in some way or another.</p>
<p>So, we include the error term as a placeholder to capture the influence of any variation in our dependent variable that is still unexplained after accounting for all of our independent and control variables. If the slope coefficient of our independent variable is the effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span>, then you can think of the error term as capturing the effect on <span class="math inline">\(Y\)</span> of everything else our model is incapable of accounting for.</p>
<p>This helps give us better information about our model by characterizing the amount of variation in the dependent variable that is explained by the variables we anticipated as influential. Moreover, if we do not keep this error term in here, we will be guaranteed to erroneously estimate the association between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, as the model will attribute random error to the <span class="math inline">\(X\)</span> variable and assume that it explains a lot more of the variance in <span class="math inline">\(Y\)</span> than it actually does.</p>
</section>
<section id="ols-in-r" class="level3" data-number="9.2.3">
<h3 data-number="9.2.3" class="anchored" data-anchor-id="ols-in-r"><span class="header-section-number">9.2.3</span> OLS in R</h3>
<p>Thankfully, as with the Chi-square test, you will almost never need to hand-calculate any of this. In fact, that would very quickly become a monumental task in the case of most reasonably complex models. But, as always, it’s important to look under the hood at least enough to get a feel for the concepts behind any statistical tool.</p>
<p>In R, we can use the base R package <code>lm</code>. The syntax works as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>our_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="st">`</span><span class="at">Warmth/Competence Scale</span><span class="st">`</span> <span class="sc">~</span> <span class="st">`</span><span class="at">Percentage of women</span><span class="st">`</span>, <span class="at">data =</span> workingjobs.df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-c90d8a3c{}.cl-c9012652{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(223, 223, 223, 1.00);background-color:transparent;}.cl-c90565f0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:6pt;padding-top:6pt;padding-left:6pt;padding-right:6pt;line-height: 1;background-color:transparent;}.cl-c90565fa{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-c9058ecc{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(255, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c9058ee0{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(255, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c9058ee1{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c9058ee2{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c9058eea{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c9058eeb{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c9058ef4{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c9058ef5{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c9058ef6{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c9058efe{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-c90d8a3c"><tbody><tr style="overflow-wrap:break-word;"><td class="cl-c9058ecc"><p class="cl-c90565f0"><span class="cl-c9012652"></span></p></td><td class="cl-c9058ee0"><p class="cl-c90565f0"><span class="cl-c9012652">(1)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c9058ee1"><p class="cl-c90565f0"><span class="cl-c9012652">(Intercept)</span></p></td><td class="cl-c9058ee2"><p class="cl-c90565f0"><span class="cl-c9012652">0.846 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c9058ee1"><p class="cl-c90565f0"><span class="cl-c9012652"></span></p></td><td class="cl-c9058ee2"><p class="cl-c90565f0"><span class="cl-c9012652">(0.030)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c9058ee1"><p class="cl-c90565f0"><span class="cl-c9012652">Percentage of women</span></p></td><td class="cl-c9058ee2"><p class="cl-c90565f0"><span class="cl-c9012652">-0.017 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c9058ee1"><p class="cl-c90565f0"><span class="cl-c9012652"></span></p></td><td class="cl-c9058ee2"><p class="cl-c90565f0"><span class="cl-c9012652">(0.001)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c9058eea"><p class="cl-c90565f0"><span class="cl-c9012652">Number of observations</span></p></td><td class="cl-c9058eeb"><p class="cl-c90565f0"><span class="cl-c9012652">5526        </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c9058ef4"><p class="cl-c90565f0"><span class="cl-c9012652">R-squared</span></p></td><td class="cl-c9058ef5"><p class="cl-c90565f0"><span class="cl-c9012652">0.151    </span></p></td></tr><tr style="overflow-wrap:break-word;"><td colspan="2" class="cl-c9058ef6"><p class="cl-c90565f0"><span class="cl-c9012652">*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05.</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Here we can see two of the key estimated values from our linear regression equation. The y-intercept is likely clear enough: 0.846. This is the estimated value of <span class="math inline">\(Y\)</span> when <span class="math inline">\(X = 0\)</span>. In other words, this is the Warmth/Competence score predicted by our model for a job with no women at all (i.e.&nbsp;a proportion of 0). Note that this value is positive, indicating that an occupation with no women is estimated to have job-ad language that engages more prominently with competence language.</p>
<p>The value (-0.017) listed for ‘Percentage of women’ is the estimated slope coefficient of this variable. The interpretation here is that, for every one-unit increase in the percentage of women, the Warmth/Competence score is estimated to <em>decrease</em> by 0.017. A one-percentage point increase is fairly small in substantive terms, so we could always multiply this coefficient by 10 to get a broader slope. For example, if the Warmth/Competence scores is estimated to decrease by 0.017 for every additional percentage point, then we would expect the score to decrease by 0.17 for every 10-point increase in percentage.</p>
<p>So, in the context of:</p>
<p><span class="math display">\[{\hat{Y} = {\hat{\beta}{_0}} + {\hat\beta}{_1}X_1 + \epsilon}\]</span> We now have</p>
<p><span class="math display">\[\hat{\beta_0} = 0.846\]</span> and</p>
<p><span class="math display">\[{\hat\beta}{_1} = -0.017\]</span></p>
<p>Now, let’s touch on statistical significance. We can also see that the coefficients for both our y-intercept and the slope of ‘Percentage of women’ are noted as statistically significant using the star notation we have seen elsewhere. These p-values are calculated using what’s known as a <strong>t-test</strong>. This is another case where I won’t get much into the math, but know that this test also utilizes the logic of hypothesis-testing that we have seen in other cases.</p>
<p>In the case of associations between a predictor variable and a dependent variable in linear regression, a slope coefficient of 0 would indicate that there is no linear relationship between the variables. The t-test allows us to estimate the likelihood that the slope coefficient we observe is truly different from 0. In our case, this is so.</p>
<p>Let’s briefly discuss one of the other values given in our regression output: the R-squared value.</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-c923ffb0{}.cl-c9195876{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(223, 223, 223, 1.00);background-color:transparent;}.cl-c91d9440{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:6pt;padding-top:6pt;padding-left:6pt;padding-right:6pt;line-height: 1;background-color:transparent;}.cl-c91d9454{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-c91dba92{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(255, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c91dbaa6{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(255, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c91dbab0{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c91dbab1{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c91dbaba{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c91dbabb{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c91dbac4{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c91dbac5{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c91dbace{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c91dbacf{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-c923ffb0"><tbody><tr style="overflow-wrap:break-word;"><td class="cl-c91dba92"><p class="cl-c91d9440"><span class="cl-c9195876"></span></p></td><td class="cl-c91dbaa6"><p class="cl-c91d9440"><span class="cl-c9195876">(1)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c91dbab0"><p class="cl-c91d9440"><span class="cl-c9195876">(Intercept)</span></p></td><td class="cl-c91dbab1"><p class="cl-c91d9440"><span class="cl-c9195876">0.846 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c91dbab0"><p class="cl-c91d9440"><span class="cl-c9195876"></span></p></td><td class="cl-c91dbab1"><p class="cl-c91d9440"><span class="cl-c9195876">(0.030)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c91dbab0"><p class="cl-c91d9440"><span class="cl-c9195876">Percentage of women</span></p></td><td class="cl-c91dbab1"><p class="cl-c91d9440"><span class="cl-c9195876">-0.017 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c91dbab0"><p class="cl-c91d9440"><span class="cl-c9195876"></span></p></td><td class="cl-c91dbab1"><p class="cl-c91d9440"><span class="cl-c9195876">(0.001)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c91dbaba"><p class="cl-c91d9440"><span class="cl-c9195876">Number of observations</span></p></td><td class="cl-c91dbabb"><p class="cl-c91d9440"><span class="cl-c9195876">5526        </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c91dbac4"><p class="cl-c91d9440"><span class="cl-c9195876">R-squared</span></p></td><td class="cl-c91dbac5"><p class="cl-c91d9440"><span class="cl-c9195876">0.151    </span></p></td></tr><tr style="overflow-wrap:break-word;"><td colspan="2" class="cl-c91dbace"><p class="cl-c91d9440"><span class="cl-c9195876">*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05.</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>I won’t get too much into the details on the actual calculation here, but R-squared is one of the valuable bits of information we can gather by accounting for the error term (and thereby modeling the variation influenced by factors not captured in our predictor variables). R-squared reflects the proportion of variance in the dependent variable that is directly explained by the independent variable. So, an R-squared of <span class="math inline">\(0.151\)</span> indicates that roughly 15% of the variation we observe in the Warmth/Competence scores of job ads is explained by the percentage of women in those jobs.</p>
<p>This is fairly low for a couple of reasons. For one, as I’ve mentioned throughout, the social world is multiplex, often outside of our direct control, and difficult to model precisely. If you find yourself with an R-squared of even 0.4 - 0.5, that’s generally considered fairly high. On the other hand, we would also expect this to be low in our case, as we have an incredibly simple model. We could include any number of different control variables that we would also expect to influence our dependent variable and this would likely boost our R-squared. We can also use this metric to help us choose between different model designs.</p>
</section>
<section id="in-sum" class="level3" data-number="9.2.4">
<h3 data-number="9.2.4" class="anchored" data-anchor-id="in-sum"><span class="header-section-number">9.2.4</span> In Sum</h3>
<p>Let’s return now to the hypotheses that we started with.</p>
<p><span class="math inline">\(H_0=\)</span> There will be no relationship between the Warmth/Competence score of a particular job ad and the percentage of women making up that occupation</p>
<p><span class="math inline">\(H_1=\)</span> Occupations with a greater percentage of women employees will have lower Warmth/Competence scores.</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-c9361e48{}.cl-c92c2a82{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(223, 223, 223, 1.00);background-color:transparent;}.cl-c9301ac0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:6pt;padding-top:6pt;padding-left:6pt;padding-right:6pt;line-height: 1;background-color:transparent;}.cl-c9301ad4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-c930448c{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(255, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c9304496{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(255, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c93044a0{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c93044aa{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c93044ab{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c93044b4{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c93044be{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c93044c8{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c93044dc{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c93044e6{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-c9361e48"><tbody><tr style="overflow-wrap:break-word;"><td class="cl-c930448c"><p class="cl-c9301ac0"><span class="cl-c92c2a82"></span></p></td><td class="cl-c9304496"><p class="cl-c9301ac0"><span class="cl-c92c2a82">(1)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c93044a0"><p class="cl-c9301ac0"><span class="cl-c92c2a82">(Intercept)</span></p></td><td class="cl-c93044aa"><p class="cl-c9301ac0"><span class="cl-c92c2a82">0.846 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c93044a0"><p class="cl-c9301ac0"><span class="cl-c92c2a82"></span></p></td><td class="cl-c93044aa"><p class="cl-c9301ac0"><span class="cl-c92c2a82">(0.030)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c93044a0"><p class="cl-c9301ac0"><span class="cl-c92c2a82">Percentage of women</span></p></td><td class="cl-c93044aa"><p class="cl-c9301ac0"><span class="cl-c92c2a82">-0.017 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c93044a0"><p class="cl-c9301ac0"><span class="cl-c92c2a82"></span></p></td><td class="cl-c93044aa"><p class="cl-c9301ac0"><span class="cl-c92c2a82">(0.001)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c93044ab"><p class="cl-c9301ac0"><span class="cl-c92c2a82">Number of observations</span></p></td><td class="cl-c93044b4"><p class="cl-c9301ac0"><span class="cl-c92c2a82">5526        </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c93044be"><p class="cl-c9301ac0"><span class="cl-c92c2a82">R-squared</span></p></td><td class="cl-c93044c8"><p class="cl-c9301ac0"><span class="cl-c92c2a82">0.151    </span></p></td></tr><tr style="overflow-wrap:break-word;"><td colspan="2" class="cl-c93044dc"><p class="cl-c9301ac0"><span class="cl-c92c2a82">*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05.</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Given the results of our regression model, we can reject the null hypothesis, as we find evidence supporting our research hypothesis. The negative, statistically significant slope coefficient for ‘Percentage of women’ aligns with our hypothesis that there will be a positive relationship between the amount of ‘warmth’ language in a job advertisement and the percentage of women in the occupation being advertised. For each one-percentage-point increase in women at a given occupation, our model estimates a corresponding decrease of 0.017 in the Warmth/Competence score of the job ad. The more a job becomes populated by women, the more predominantly warmth language is engaged by the corresponding job advertisement.</p>
<p>The slope coefficient that we calculated here is the one that we first saw visualized at the beginning of this section</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="general_linear_model_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>What we have just worked through is the simplest case of OLS regression, where there is only one dependent variable and one predictor variable. These principles scale in the case of multiple regression, where we can observe the isolated effects of individual variables when all other predictors are held constant.</p>
</section>
</section>
<section id="categorical-predictors" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="categorical-predictors"><span class="header-section-number">9.3</span> Categorical Predictors</h2>
<p>We saw an example above of a continuous dependent variable predicted by another continuous predictor variable. But what happens when we have a continuous dependent variable and a categorical independent variable? How would that even work with non-numeric values? Believe it or not, with some inventive puckishness, we can use linear regression to estimate the effects of categorical variables.</p>
<p>Let’s regress our <code>Warmth/Competence Scale</code> on an ordinal salary variable rather than <code>Percentage of women</code>. This salary variable will have three levels: Lower-middle class, Middle class, and Upper class</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>our_multimodel <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="st">`</span><span class="at">Warmth/Competence Scale</span><span class="st">`</span> <span class="sc">~</span>  <span class="st">`</span><span class="at">Ordinal Salary</span><span class="st">`</span>, <span class="at">data =</span> workingjobs.df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-ca2c4570{}.cl-ca1b83a2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(223, 223, 223, 1.00);background-color:transparent;}.cl-ca22badc{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:6pt;padding-top:6pt;padding-left:6pt;padding-right:6pt;line-height: 1;background-color:transparent;}.cl-ca22baf0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ca230780{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(255, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca230794{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(255, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca23079e{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca2307a8{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca2307a9{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca2307b2{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca2307bc{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca2307bd{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca2307c6{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca2307d0{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-ca2c4570"><tbody><tr style="overflow-wrap:break-word;"><td class="cl-ca230780"><p class="cl-ca22badc"><span class="cl-ca1b83a2"></span></p></td><td class="cl-ca230794"><p class="cl-ca22badc"><span class="cl-ca1b83a2">(1)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca23079e"><p class="cl-ca22badc"><span class="cl-ca1b83a2">(Intercept)</span></p></td><td class="cl-ca2307a8"><p class="cl-ca22badc"><span class="cl-ca1b83a2">-0.452 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca23079e"><p class="cl-ca22badc"><span class="cl-ca1b83a2"></span></p></td><td class="cl-ca2307a8"><p class="cl-ca22badc"><span class="cl-ca1b83a2">(0.025)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca23079e"><p class="cl-ca22badc"><span class="cl-ca1b83a2">Salary: Middle Class</span></p></td><td class="cl-ca2307a8"><p class="cl-ca22badc"><span class="cl-ca1b83a2">0.385 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca23079e"><p class="cl-ca22badc"><span class="cl-ca1b83a2"></span></p></td><td class="cl-ca2307a8"><p class="cl-ca22badc"><span class="cl-ca1b83a2">(0.033)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca23079e"><p class="cl-ca22badc"><span class="cl-ca1b83a2">Salary: Upper Class</span></p></td><td class="cl-ca2307a8"><p class="cl-ca22badc"><span class="cl-ca1b83a2">0.833 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca23079e"><p class="cl-ca22badc"><span class="cl-ca1b83a2"></span></p></td><td class="cl-ca2307a8"><p class="cl-ca22badc"><span class="cl-ca1b83a2">(0.032)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca2307a9"><p class="cl-ca22badc"><span class="cl-ca1b83a2">Number of observations</span></p></td><td class="cl-ca2307b2"><p class="cl-ca22badc"><span class="cl-ca1b83a2">5526        </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca2307bc"><p class="cl-ca22badc"><span class="cl-ca1b83a2">R-squared</span></p></td><td class="cl-ca2307bd"><p class="cl-ca22badc"><span class="cl-ca1b83a2">0.111    </span></p></td></tr><tr style="overflow-wrap:break-word;"><td colspan="2" class="cl-ca2307c6"><p class="cl-ca22badc"><span class="cl-ca1b83a2">*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05.</span></p></td></tr></tbody></table></div>
</div>
</div>
<section id="categorical-slope-coefficients" class="level3" data-number="9.3.1">
<h3 data-number="9.3.1" class="anchored" data-anchor-id="categorical-slope-coefficients"><span class="header-section-number">9.3.1</span> Categorical Slope Coefficients</h3>
<p>For starters, let’s focus on the slope estimates for <code>Salary: Middle class</code> and <code>Salary: Upper class</code>.</p>
<p>Now, estimating any kind of mathematically linear relationship using categorical variables involves a little creativity. Recall that the levels of our categorical variables are often encoded numerically in the back-end of our statistical software. So, the three levels of <code>Salary</code> are also represented as 0, 1, and 2. But, of course, it does not make sense to model these numerically.</p>
<p>The sleight of hand with categorical variables in OLS involves the creation of <strong>dummy variables</strong>. One level of the variable is left out of the model, and we call this the <strong>reference level</strong>. For us, our reference level is the level ‘Lower-middle class’, and this is the basis of comparison for the slope estimates that we see for the other two levels we have in our model output: ‘Middle class’ and ‘Upper class’.</p>
<p>Let’s take <code>Salary: Middle class</code>. This dummy variable is created by coding a new binary variable. Each observation is assigned a <span class="math inline">\(1\)</span> if it reflects a case where the job ad’s <code>Salary</code> is in the <code>Middle class</code> category. This coding process assigns a <span class="math inline">\(0\)</span> to all other cases. R is very neat for automatically doing all of this for us whenever we include a factor variable in a regression, but know that this is what’s happening on the back-end.</p>
<p>Now, remember that when we interpreted the slope estimate of a continuous variable (Percentage of women), we saw that the estimate reflected the expected change in <span class="math inline">\(Y\)</span> after a <em>one-unit increase</em> in <span class="math inline">\(X\)</span>. This is where we get inventive. Each dummy variable is now coded as <span class="math inline">\(0\)</span> and <span class="math inline">\(1\)</span>, so our slope coefficients are now estimating the effect of being <code>Middle class</code> vs.&nbsp;any other level of <code>Salary</code>. This works out to the mean of <span class="math inline">\(Y\)</span> for the subset of observations where <span class="math inline">\(Salary = Middle \ Class\)</span></p>
<p>The estimate for <code>Salary: Middle class</code> then comes through comparison with our reference level, which is <code>Lower middle class</code> in our case. We subtract the mean of <span class="math inline">\(Y\)</span> for the subset of <code>Lower middle class</code> observations from the mean of <span class="math inline">\(Y\)</span> for the <code>Middle class</code> cases. Substantively, this gives us the predicted change in the <code>Warmth/Competence Score</code> when going from a <code>Lower middle class</code> salary to a <code>Middle class</code> salary.</p>
<p>I’ll show you this in a little detail with some code</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean for the reference level</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>workingjobs.df <span class="sc">|&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sal_ord <span class="sc">==</span> <span class="st">"Lower-middle class"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_lower_middle =</span> <span class="fu">mean</span>(comp_sim)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">mean_lower_middle</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">-0.4523064</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean of Middle class</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>workingjobs.df <span class="sc">|&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sal_ord <span class="sc">==</span> <span class="st">"Middle class"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_middle =</span> <span class="fu">mean</span>(comp_sim)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">mean_middle</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">-0.0671131</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subtract the mean of 'lower-middle class' cases from the mean of 'middle class' cases</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>(<span class="sc">-</span><span class="fl">0.06711311</span>) <span class="sc">-</span> (<span class="sc">-</span><span class="fl">0.4523064</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3851933</code></pre>
</div>
</div>
<p>And there you can see the slope coefficient estimated by our model above.</p>
</section>
</section>
<section id="a-multivariable-example" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="a-multivariable-example"><span class="header-section-number">9.4</span> A Multivariable Example</h2>
<p>Lastly, let’s consider a multivariable example and reflect on the elaboration model in the OLS context.</p>
<p>We’ll posit a model where the <code>Warmth/Competence Score</code> is our dependent variable, the <code>Percentage of women</code> is our dependent variable, and <code>Ordinal Salary</code> is our test variable. We’ll see if the negative relationship we observed in our zero-order relationship is affected after controlling for salary.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>our_multimodel <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="st">`</span><span class="at">Warmth/Competence Scale</span><span class="st">`</span> <span class="sc">~</span>  <span class="st">`</span><span class="at">Percentage of women</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Ordinal Salary</span><span class="st">`</span>, <span class="at">data =</span> workingjobs.df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-ca6b0f76{}.cl-ca5ccfec{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(223, 223, 223, 1.00);background-color:transparent;}.cl-ca62d1da{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:6pt;padding-top:6pt;padding-left:6pt;padding-right:6pt;line-height: 1;background-color:transparent;}.cl-ca62d1e4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ca62fd2c{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(255, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca62fd36{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(255, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca62fd40{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca62fd41{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca62fd4a{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca62fd54{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca62fd55{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca62fd56{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca62fd5e{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca62fd5f{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-ca6b0f76"><tbody><tr style="overflow-wrap:break-word;"><td class="cl-ca62fd2c"><p class="cl-ca62d1da"><span class="cl-ca5ccfec"></span></p></td><td class="cl-ca62fd36"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">(1)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca62fd40"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">(Intercept)</span></p></td><td class="cl-ca62fd41"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">0.412 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca62fd40"><p class="cl-ca62d1da"><span class="cl-ca5ccfec"></span></p></td><td class="cl-ca62fd41"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">(0.043)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca62fd40"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">Percentage of women</span></p></td><td class="cl-ca62fd41"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">-0.014 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca62fd40"><p class="cl-ca62d1da"><span class="cl-ca5ccfec"></span></p></td><td class="cl-ca62fd41"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">(0.001)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca62fd40"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">Salary: Middle Class</span></p></td><td class="cl-ca62fd41"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">0.181 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca62fd40"><p class="cl-ca62d1da"><span class="cl-ca5ccfec"></span></p></td><td class="cl-ca62fd41"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">(0.032)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca62fd40"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">Salary: Upper Class</span></p></td><td class="cl-ca62fd41"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">0.545 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca62fd40"><p class="cl-ca62d1da"><span class="cl-ca5ccfec"></span></p></td><td class="cl-ca62fd41"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">(0.033)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca62fd4a"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">Number of observations</span></p></td><td class="cl-ca62fd54"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">5526        </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca62fd55"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">R-squared</span></p></td><td class="cl-ca62fd56"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">0.196    </span></p></td></tr><tr style="overflow-wrap:break-word;"><td colspan="2" class="cl-ca62fd5e"><p class="cl-ca62d1da"><span class="cl-ca5ccfec">*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05.</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Now, the slope coefficients here for each of these variables are different than the one’s we’ve seen so far. That’s because they are being estimated slightly different. The slope coefficient of (-0.014) for <code>Percentage of women</code> reflects the expected change in the <code>Warmth/Competence Score</code> after a one-unit increase in <code>Percentage of women</code> <em>when holding all other variables constant</em>.</p>
<p>This is another one of those things for which I’m going to stay at the conceptual level. The math for this is very neat, but it’s a bit beyond the scope of our foray. Just know that this process is carefully specified using information from our models, and this process of controlling for the other variables is what explains the differences in slope coefficients for our multiple regression model (as opposed to those we saw for the two simple models we ran above.)</p>
<section id="elaboration-model" class="level3" data-number="9.4.1">
<h3 data-number="9.4.1" class="anchored" data-anchor-id="elaboration-model"><span class="header-section-number">9.4.1</span> Elaboration Model</h3>
<p>Now, let’s think about this in terms of the elaboration model.</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-ca7f58f0{}.cl-ca73def8{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(223, 223, 223, 1.00);background-color:transparent;}.cl-ca78240e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:6pt;padding-top:6pt;padding-left:6pt;padding-right:6pt;line-height: 1;background-color:transparent;}.cl-ca782418{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ca784a4c{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(255, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca784a60{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(255, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca784a6a{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca784a6b{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca784a74{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca784a75{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca784a76{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca784a7e{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca784a7f{width:1.944in;background-color:rgba(36, 36, 36, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ca784a88{width:1.002in;background-color:rgba(36, 36, 36, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-ca7f58f0"><tbody><tr style="overflow-wrap:break-word;"><td class="cl-ca784a4c"><p class="cl-ca78240e"><span class="cl-ca73def8"></span></p></td><td class="cl-ca784a60"><p class="cl-ca78240e"><span class="cl-ca73def8">(1)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca784a6a"><p class="cl-ca78240e"><span class="cl-ca73def8">(Intercept)</span></p></td><td class="cl-ca784a6b"><p class="cl-ca78240e"><span class="cl-ca73def8">0.412 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca784a6a"><p class="cl-ca78240e"><span class="cl-ca73def8"></span></p></td><td class="cl-ca784a6b"><p class="cl-ca78240e"><span class="cl-ca73def8">(0.043)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca784a6a"><p class="cl-ca78240e"><span class="cl-ca73def8">Percentage of women</span></p></td><td class="cl-ca784a6b"><p class="cl-ca78240e"><span class="cl-ca73def8">-0.014 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca784a6a"><p class="cl-ca78240e"><span class="cl-ca73def8"></span></p></td><td class="cl-ca784a6b"><p class="cl-ca78240e"><span class="cl-ca73def8">(0.001)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca784a6a"><p class="cl-ca78240e"><span class="cl-ca73def8">Salary: Middle Class</span></p></td><td class="cl-ca784a6b"><p class="cl-ca78240e"><span class="cl-ca73def8">0.181 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca784a6a"><p class="cl-ca78240e"><span class="cl-ca73def8"></span></p></td><td class="cl-ca784a6b"><p class="cl-ca78240e"><span class="cl-ca73def8">(0.032)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca784a6a"><p class="cl-ca78240e"><span class="cl-ca73def8">Salary: Upper Class</span></p></td><td class="cl-ca784a6b"><p class="cl-ca78240e"><span class="cl-ca73def8">0.545 ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca784a6a"><p class="cl-ca78240e"><span class="cl-ca73def8"></span></p></td><td class="cl-ca784a6b"><p class="cl-ca78240e"><span class="cl-ca73def8">(0.033)   </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca784a74"><p class="cl-ca78240e"><span class="cl-ca73def8">Number of observations</span></p></td><td class="cl-ca784a75"><p class="cl-ca78240e"><span class="cl-ca73def8">5526        </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ca784a76"><p class="cl-ca78240e"><span class="cl-ca73def8">R-squared</span></p></td><td class="cl-ca784a7e"><p class="cl-ca78240e"><span class="cl-ca73def8">0.196    </span></p></td></tr><tr style="overflow-wrap:break-word;"><td colspan="2" class="cl-ca784a7f"><p class="cl-ca78240e"><span class="cl-ca73def8">*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05.</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>We can see that the effect of Salary is significant. So, going from a Lower-middle class salary to a Middle-class salary is associated with an expected increase of (0.181) in the mean <code>Warmth/Competence Score</code>, while holding the <code>Percentage of woman</code> constant.</p>
<p>The even larger slope coefficient of (0.545) for <code>Upper Class</code> tells us that there is an even larger expected increase in the mean <code>Warmth/Competence Score</code> when going from <code>Lower-middle class</code> to <code>Upper class</code>.</p>
<p>In general, this tells us that jobs with higher salaries tend to more predominantly engage competence language as opposed to warmth language. In line with our status-related hypotheses, this certainly adds up. we can also see that these effects are both highly statistically significant (at p &lt; 0.001).</p>
<p>But the key for our elaboration interpretation resides with the <code>Percentage of women</code> results in our model output. We now know that our test variable is statistically significant. Salary does influence the Warmth/Competence Score, and there’s a positive relationship. But note that the <code>Percentage of women</code> relationship is basically unchanged. After controlling for salary, we still find a statistically significant, negative association between <code>Percentage of women</code> and the <code>Warmth/Competence Score</code>. The coefficient is almost identical as well (-0.017 vs -0.014).</p>
<p>Because our zero-order relationship survives and remains essentially unchanged after holding our test variable constant, we find evidence of <strong>Replication</strong> in Elaboration terms.</p>
</section>
<section id="visualizing-elaboration" class="level3" data-number="9.4.2">
<h3 data-number="9.4.2" class="anchored" data-anchor-id="visualizing-elaboration"><span class="header-section-number">9.4.2</span> Visualizing Elaboration</h3>
<p>Now, I’ll leave you off with some visualizations of this 3-way relationship.</p>
<p>Below, we can observe the model-estimated mean values for each level of <code>Salary</code>, where we can observe the positive relationship between <code>Warmth/Competence Score</code> and <code>Salary</code>.</p>
<p>These are displayed in a new graphing style: the violin plot. These show us the plotted points of our actual data, and the width of the “violins” corresponds to the frequency of values across various points along the Y-axis. So, areas that are wide along the violin indicate a high frequency of observations with that particular value of <span class="math inline">\(Y\)</span>. The black points in the middle of each violin correspond to the model-estimated mean value of each Salary category.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="general_linear_model_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Next, we can see the line that our model estimates for the relationship between Warmth/Competence and Percentage of women while holding levels of Salary constant. This effect didn’t change all that much after controlling for Salary, but I’m displaying this result from the multiple regression next to the line estimated from the simple regression (with no test variable) so you can get a sense of how controlling for Salary affected the estimation of the linear relationship between Warmth/Competence Score and the Percentag of women.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="general_linear_model_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./data_viz.html" class="pagination-link" aria-label="Plotting and Counting">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Plotting and Counting</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




</body></html>